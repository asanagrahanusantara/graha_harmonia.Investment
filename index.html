<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graha Harmonia - Investasi Properti</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .whatsapp-float {
            position: fixed; width: 60px; height: 60px; bottom: 20px; right: 20px;
            background-color: #25D366; color: #FFF; border-radius: 50px; text-align: center;
            z-index: 1000; box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
            display: flex; align-items: center; justify-content: center; transition: transform 0.3s ease;
        }
        .whatsapp-float:hover { transform: scale(1.1); }
        /* Minimal styling for the range slider */
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 16px; height: 16px; border-radius: 50%; background: #10b981; cursor: pointer; }
    </style>
</head>
<body>
    <div id="app" class="font-sans text-slate-800 bg-slate-50">
        <!-- Application content will be rendered here by JavaScript -->
    </div>

    <!-- Floating WhatsApp Button -->
    <a id="whatsapp-link" href="#" target="_blank" class="whatsapp-float">
        <!-- WhatsApp Logo SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-7 h-7 fill-white">
            <path d="M380.9 97.1C339.4 55.4 283.4 32 224 32S108.6 55.4 67.1 97.1 23.6 193.3 23.6 256c0 57.6 18.7 111.3 54 153.9l-22.3 84.8 86.8-22.8c41.6 25.3 88.4 38.6 136.2 38.6 106 0 192.1-86.1 192.1-192.1 0-57.6-18.7-111.3-54-153.9zM224 416c-43.1 0-83.9-13.9-119.5-40.8L83 400l17.7-67.9c-38.8-44.5-59.5-101.4-59.5-161.4 0-88.2 71.8-160 160-160s160 71.8 160 160-71.8 160-160 160zm58.5-121.3L208 350.2c-5.7 3.3-13.6-2.5-10.4-8.2l20.1-36.2-34-31.4c-4.4-4.1-3.9-11.5 1-15.1l54.8-40.1c4.5-3.3 10.9-.3 11.2 5.1l.6 12.3c.3 5.4-3.1 10.4-8.4 11.3l-28.9 4.7 34.1 31.4c4.4 4.1 3.9 11.5-1 15.1z"/>
        </svg>
    </a>

    <script>
        // --- PROJECT CONFIGURATION ---
        const initialLandCost = 4800000000;
        const initialUnits = 19;
        const initialAvgSalesPrice = 1100000000;
        const initialConstructionCostPerUnit = 450000000;
        const initialOperationalCost = 1000000000;
        const initialDurationMonths = 24;
        const WA_NUMBER = "6281234567890"; // Ganti dengan nomor WhatsApp Anda

        let landCost = initialLandCost;
        let units = initialUnits;
        let avgSalesPrice = initialAvgSalesPrice;
        let constructionCostPerUnit = initialConstructionCostPerUnit;
        let operationalCost = initialOperationalCost;
        let durationMonths = initialDurationMonths;
        
        // Helper functions
        const formatIDR = (num) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', maximumFractionDigits: 0 }).format(num);
        const formatMilyar = (num) => (num / 1000000000).toFixed(2) + ' M';

        // Set WhatsApp Link
        document.getElementById('whatsapp-link').href = 
            `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent("Halo, saya tertarik dengan proyek Graha Harmonia.")}`;

        // Initialize Lucide icons
        const initializeLucide = () => {
            if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
                lucide.createIcons();
            }
        };

        // Main rendering function
        const renderApp = () => {
            // Real-time calculation
            const totalConstructionCost = constructionCostPerUnit * units;
            const totalRevenue = avgSalesPrice * units;
            const totalCost = landCost + totalConstructionCost + operationalCost;
            const grossProfit = totalRevenue - totalCost;
            const investorShare = grossProfit * 0.5;
            const roi = (investorShare / landCost) * 100;

            const app = document.getElementById('app');
            app.innerHTML = `
                <!-- --- HERO SECTION --- -->
                <header class="relative bg-slate-900 text-white min-h-screen flex items-center justify-center overflow-hidden">
                    <!-- GAMBAR VILLA (Tampak 1) - Tautan RAW GitHub sudah terpasang di sini -->
                    <div 
                        class="absolute inset-0 opacity-40 bg-cover bg-center" 
                        style="background-image: url('https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/6ecefaeeced5b0a3fff19ab9ef1283367182a5a8/Images/tampak1.png'); background-position: 50% 70%;"
                        onerror="this.style.backgroundImage='url(https://placehold.co/1200x800/1e293b/f8fafc?text=GAMBAR+VILLA+TIDAK+DITEMUKAN)'"
                    ></div>
                    <div class="absolute inset-0 bg-gradient-to-b from-slate-900/90 via-slate-900/60 to-slate-900/90"></div>

                    <div class="container mx-auto px-6 relative z-10 text-center py-20">
                        
                        <!-- LOGO PERUSAHAAN -->
                        <img 
                            src="https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/6ecefaeeced5b0a3fff19ab9ef1283367182a5a8/Images/logo.png" 
                            alt="Logo Asana Graha Nusantara" 
                            class="mx-auto w-24 h-auto mb-6 drop-shadow-lg"
                            onerror="this.style.display='none'"
                        >
                        
                        <div class="inline-block px-4 py-1 mb-4 border border-emerald-500 rounded-full bg-emerald-500/10 text-emerald-400 text-sm font-semibold tracking-wide uppercase">
                            Premium Semi-Villa di Tabanan
                        </div>
                        <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">
                            Graha <span class="text-emerald-400">Harmonia</span>
                        </h1>
                        <p class="text-xl md:text-2xl text-slate-300 mb-8 max-w-2xl mx-auto font-light">
                            "Menciptakan Kekayaan Melalui Aset Properti yang Dipercepat"
                        </p>
                        <a href="#calculator" class="bg-emerald-500 hover:bg-emerald-600 text-white px-8 py-4 rounded-lg font-bold transition-all transform hover:scale-105 flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/30">
                            <i data-lucide="bar-chart-3" class="w-5 h-5"></i> Simulasi Keuntungan
                        </a>
                    </div>
                </header>

                <!-- --- STATS SUMMARY (STICKY) --- -->
                <section class="py-10 bg-white border-b border-slate-200 sticky top-0 z-20 shadow-md">
                    <div class="container mx-auto px-6">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 divide-x divide-slate-200">
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">Modal Tanah</p>
                                <p class="text-xl md:text-2xl font-bold text-slate-800">${formatMilyar(landCost)}</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">Jaminan</p>
                                <p class="text-xl md:text-2xl font-bold text-emerald-600">SHM (Hak Milik)</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">Durasi Proyek</p>
                                <p class="text-xl md:text-2xl font-bold text-slate-800">${durationMonths} Bulan</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">Unit</p>
                                <p class="text-xl md:text-2xl font-bold text-slate-800">${units} Unit</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- --- INTERACTIVE CALCULATOR --- -->
                <section id="calculator" class="py-20 bg-slate-900 text-white relative">
                    <div class="container mx-auto px-6 relative z-10">
                        <div class="text-center mb-12">
                            <span class="text-emerald-400 font-semibold tracking-wider uppercase text-sm">Proyeksi Keuangan</span>
                            <h2 class="text-4xl font-bold mt-2">Kalkulator ROI</h2>
                        </div>

                        <div class="grid lg:grid-cols-12 gap-12">
                            
                            <!-- CONTROLS (INPUT) -->
                            <div class="lg:col-span-5 bg-slate-800 p-8 rounded-2xl border border-slate-700">
                                <h3 class="text-xl font-bold mb-6 text-slate-200">Parameter Proyek</h3>
                                <div class="space-y-8">
                                    <!-- Slider Harga Jual -->
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <label for="avgSalesPrice" class="text-sm text-slate-300">Rata-rata Harga Jual per Unit</label>
                                            <span id="displaySalesPrice" class="font-bold text-emerald-400">${formatMilyar(avgSalesPrice)}</span>
                                        </div>
                                        <input type="range" id="avgSalesPrice" min="800000000" max="2000000000" step="50000000" value="${avgSalesPrice}" class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-emerald-500"/>
                                    </div>

                                    <!-- Slider Biaya Bangun -->
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <label for="constructionCost" class="text-sm text-slate-300">Biaya Bangun per Unit</label>
                                            <span id="displayConstructionCost" class="font-bold text-slate-300">${formatMilyar(constructionCostPerUnit)}</span>
                                        </div>
                                        <input type="range" id="constructionCost" min="300000000" max="800000000" step="10000000" value="${constructionCostPerUnit}" class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-blue-500"/>
                                    </div>
                                </div>
                            </div>

                            <!-- RESULTS (OUTPUT) -->
                            <div class="lg:col-span-7 bg-white text-slate-900 p-8 rounded-2xl shadow-2xl">
                                <h3 class="text-xl font-bold mb-6 text-slate-800 border-b pb-4">Ringkasan Keuntungan</h3>
                                
                                <div class="bg-emerald-50 rounded-xl p-6 border border-emerald-100 mb-6">
                                    <div class="flex justify-between items-end mb-2">
                                        <p class="text-emerald-800 font-semibold">Net Profit Proyek</p>
                                        <p class="text-3xl font-bold text-emerald-600" id="grossProfit">${formatIDR(grossProfit)}</p>
                                    </div>
                                </div>

                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 text-center">
                                        <p class="text-xs text-slate-500 uppercase tracking-wide mb-2">Bagian Investor (50% Profit)</p>
                                        <p class="text-xl font-bold text-slate-800" id="investorShare">${formatIDR(investorShare)}</p>
                                    </div>
                                    <div class="bg-slate-800 p-5 rounded-lg text-white text-center shadow-lg transform scale-105 border-2 border-emerald-400">
                                        <p class="text-xs text-emerald-300 uppercase tracking-wide mb-2">ROI (Return On Investment)</p>
                                        <p class="text-3xl font-bold" id="roi">${roi.toFixed(1)}%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- --- LEGAL SAFETY + MASTERPLAN IMAGE --- -->
                <section class="py-20 bg-slate-50 border-t border-slate-200">
                    <div class="container mx-auto px-6">
                        <div class="flex flex-col md:flex-row items-center gap-12">
                            <div class="md:w-1/2">
                                <h2 class="text-3xl font-bold text-slate-800 mb-6">Keamanan Legalitas & Lokasi</h2>
                                <p class="text-slate-600 mb-4">Proyek Premium Semi-Villa berlokasi di **Gubug, Tabanan** (${units} Unit) dan menjamin:</p>
                                <ul class="list-disc list-inside text-slate-700 space-y-2 ml-4">
                                    <li>Jaminan Legalitas SHM (Sertifikat Hak Milik).</li>
                                    <li>SHM dibalik nama langsung atas nama Investor (untuk proteksi aset).</li>
                                </ul>
                            </div>
                            
                            <div class="md:w-1/2">
                                <!-- Siteplan/Masterplan image from GitHub link provided by user -->
                                <img 
                                    src="https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/6ecefaeeced5b0a3fff19ab9ef1283367182a5a8/Images/Siteplan.png" 
                                    alt="Denah Lokasi Proyek Premium Semi-Villa di Gubug, Tabanan" 
                                    class="w-full h-auto rounded-2xl shadow-xl border border-slate-300"
                                    onerror="this.src='https://placehold.co/600x400/f3f4f6/1f2937?text=Masterplan+Proyek'"
                                />
                            </div>
                        </div>
                    </div>
                </section>

                <!-- --- FOOTER --- -->
                <footer class="bg-slate-900 text-white py-10 text-center">
                    <div class="container mx-auto px-6">
                        <p class="text-xs text-slate-500">Proyek oleh Asana Graha Nusantara. Semua data keuangan bersifat simulasi.</p>
                        <div class="mt-4 text-slate-600 text-sm">
                            &copy; 2025 Asana Graha Nusantara.
                        </div>
                    </div>
                </footer>
            `;
            
            initializeLucide();
        };

        // Attach event listeners to sliders (logic remains simplified)
        const attachEventListeners = () => {
            const updateAndRender = () => {
                const salesPriceInput = document.getElementById('avgSalesPrice');
                const constructionCostInput = document.getElementById('constructionCost');

                if (salesPriceInput) avgSalesPrice = Number(salesPriceInput.value);
                if (constructionCostInput) constructionCostPerUnit = Number(constructionCostInput.value);

                renderApp();
                attachEventListeners(); 
            };
            
            const salesPriceSlider = document.getElementById('avgSalesPrice');
            const constructionCostSlider = document.getElementById('constructionCost');

            if (salesPriceSlider && salesPriceSlider.dataset.listener !== 'true') {
                salesPriceSlider.addEventListener('input', updateAndRender);
                salesPriceSlider.dataset.listener = 'true'; 
            }

            if (constructionCostSlider && constructionCostSlider.dataset.listener !== 'true') {
                constructionCostSlider.addEventListener('input', updateAndRender);
                constructionCostSlider.dataset.listener = 'true';
            }
        };

        // Initialization
        window.onload = () => {
            renderApp();
            attachEventListeners();
            setTimeout(initializeLucide, 100); 
        };

    </script>
</body>
</html>
