<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graha Harmonia - Investasi Properti Premium Tabanan</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .heading-font { font-family: 'Playfair Display', serif; }
        
        .whatsapp-float {
            position: fixed; width: 60px; height: 60px; bottom: 20px; right: 20px;
            background-color: #25D366;
            color: #FFF; border-radius: 50px; text-align: center;
            z-index: 1000; box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
            display: flex; align-items: center; justify-content: center; transition: transform 0.3s ease;
        }
        .whatsapp-float:hover { transform: scale(1.1); }
        
        input[type=range]::-webkit-slider-thumb { 
            -webkit-appearance: none; appearance: none; width: 16px; height: 16px; 
            border-radius: 50%; background: #f59e0b; cursor: pointer; 
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Language switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 100px;
            z-index: 1001;
        }
        
        .language-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            min-width: 140px;
            padding: 8px 0;
        }
        
        .language-dropdown.show {
            display: block;
        }
        
        /* Investment comparison table styling */
        .comparison-table tr:hover {
            background-color: rgba(245, 158, 11, 0.05);
        }
        
        /* RAB table styling */
        .rab-table th {
            background-color: #1e293b;
            color: white;
        }
        
        .rab-table tr:nth-child(even) {
            background-color: #f8fafc;
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <button id="languageToggle" class="bg-white px-4 py-2 rounded-lg shadow-md flex items-center gap-2 hover:bg-slate-50 transition">
            <i class="fas fa-globe text-amber-600"></i>
            <span class="font-medium" id="currentLanguage">Indonesia</span>
            <i class="fas fa-chevron-down text-sm"></i>
        </button>
        <div class="language-dropdown" id="languageDropdown">
            <button class="lang-option w-full text-left px-4 py-2 hover:bg-slate-100 transition" data-lang="id">
                <span class="mr-2">üáÆüá©</span> Indonesia
            </button>
            <button class="lang-option w-full text-left px-4 py-2 hover:bg-slate-100 transition" data-lang="en">
                <span class="mr-2">üá∫üá∏</span> English
            </button>
            <button class="lang-option w-full text-left px-4 py-2 hover:bg-slate-100 transition" data-lang="zh">
                <span class="mr-2">üá®üá≥</span> ‰∏≠Êñá (Mandarin)
            </button>
            <button class="lang-option w-full text-left px-4 py-2 hover:bg-slate-100 transition" data-lang="ru">
                <span class="mr-2">üá∑üá∫</span> –†—É—Å—Å–∫–∏–π (Russian)
            </button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-amber-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-home text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-slate-800 heading-font">Graha Harmonia</h1>
                        <p class="text-xs text-slate-500">Premium Semi-Villa Tabanan</p>
                    </div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-8">
                    <a href="#home" class="text-slate-700 hover:text-amber-600 font-medium transition">Beranda</a>
                    <a href="#rab" class="text-slate-700 hover:text-amber-600 font-medium transition">RAB</a>
                    <a href="#keuntungan" class="text-slate-700 hover:text-amber-600 font-medium transition">Keuntungan</a>
                    <a href="#perbandingan" class="text-slate-700 hover:text-amber-600 font-medium transition">Perbandingan</a>
                    <a href="#calculator" class="text-slate-700 hover:text-amber-600 font-medium transition">Kalkulator</a>
                    <a href="#kontak" class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg font-medium transition">Konsultasi</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button id="mobileMenuButton" class="md:hidden text-slate-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="md:hidden hidden mt-4 pb-4 border-t border-slate-200 pt-4">
                <div class="flex flex-col gap-4">
                    <a href="#home" class="text-slate-700 hover:text-amber-600 font-medium py-2">Beranda</a>
                    <a href="#rab" class="text-slate-700 hover:text-amber-600 font-medium py-2">RAB</a>
                    <a href="#keuntungan" class="text-slate-700 hover:text-amber-600 font-medium py-2">Keuntungan</a>
                    <a href="#perbandingan" class="text-slate-700 hover:text-amber-600 font-medium py-2">Perbandingan</a>
                    <a href="#calculator" class="text-slate-700 hover:text-amber-600 font-medium py-2">Kalkulator</a>
                    <a href="#kontak" class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg font-medium text-center">Konsultasi</a>
                </div>
            </div>
        </div>
    </nav>

    <div id="app" class="font-sans text-slate-800 bg-slate-50">
        <!-- Content will be rendered here -->
    </div>

    <!-- Floating WhatsApp Button -->
    <a id="whatsapp-link" href="#" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp text-2xl"></i>
    </a>

    <script>
        // --- PROJECT CONFIGURATION ---
        const initialLandCost = 4800000000;
        const initialUnits = 19;
        const initialAvgSalesPrice = 1100000000;
        const initialConstructionCostPerUnit = 450000000;
        const initialOperationalCost = 1000000000;
        const initialDurationMonths = 24;
        const WA_NUMBER = "6285711880101"; // Nomor dari proposal

      // Tautan RAW GitHub untuk gambar - DIKOREKSI
        const IMAGE_TAMPILAN_UNIT = "https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/main/Images/tampak1.png";
        const IMAGE_HERO = "https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/main/Images/ModulGrahaHarmonia_3.png"; 
        const IMAGE_LOGO = "https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/main/Images/logo.png";
        const IMAGE_MASTERPLAN = "https://raw.githubusercontent.com/asanagrahanusantara/graha_harmonia.Investment/main/Images/Siteplan.png";
        
        let landCost = initialLandCost;
        let units = initialUnits;
        let avgSalesPrice = initialAvgSalesPrice;
        let constructionCostPerUnit = initialConstructionCostPerUnit;
        let operationalCost = initialOperationalCost;
        let durationMonths = initialDurationMonths;
        let currentLang = 'id';
        
        // Helper functions
        const formatIDR = (num) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', maximumFractionDigits: 0 }).format(num);
        const formatMilyar = (num) => (num / 1000000000).toFixed(2) + ' M';

        // Translation data
        const translations = {
            id: {
                // Navigation
                home: "Beranda",
                rab: "RAB",
                keuntungan: "Keuntungan",
                perbandingan: "Perbandingan",
                calculator: "Kalkulator",
                consultation: "Konsultasi",
                currentLanguage: "Indonesia",
                
                // Hero
                heroSubtitle: "Investasi Properti Premium",
                heroTitle: "Graha <span class='text-amber-400'>Harmonia</span>",
                heroDescription: "\"Menciptakan Kekayaan Melalui Aset Properti yang Dipercepat\"",
                ctaButton: "Simulasi Keuntungan",
                
                // Stats
                landCapital: "Modal Tanah",
                guarantee: "Jaminan",
                projectDuration: "Durasi Proyek",
                units: "Unit",
                shmGuarantee: "SHM (Hak Milik)",
                months: "Bulan",
                
                // Design Overview
                designTitle: "Konsep Desain Unit",
                designSubtitle: "Desain Premium Semi-Villa yang modern, luas, dan menyatu dengan alam Bali.",
                lifestyleTitle: "Gaya Hidup Mewah & Fungsional",
                lifestyleDesc: "Setiap unit dirancang dengan konsep minimalis tropis, memaksimalkan cahaya alami dan sirkulasi udara. Tata letak terbuka, kolam renang pribadi, dan material berkualitas tinggi menjadikannya aset ideal untuk hunian atau investasi sewa jangka pendek.",
                feature1: "<strong>Luas & Terbuka:</strong> Desain yang mengoptimalkan ruang dan pemandangan.",
                feature2: "<strong>Kualitas Konstruksi:</strong> Standar bangunan tertinggi untuk ketahanan dan nilai jual.",
                feature3: "<strong>Ramah Lingkungan:</strong> Integrasi elemen alam dan efisiensi energi.",
                
                // Calculator
                calculatorSubtitle: "Proyeksi Keuangan",
                calculatorTitle: "Kalkulator ROI",
                projectParams: "Parameter Proyek",
                avgPriceLabel: "Rata-rata Harga Jual per Unit",
                constructionCostLabel: "Biaya Bangun per Unit",
                resultsTitle: "Ringkasan Keuntungan",
                netProfit: "Net Profit Proyek",
                investorShareLabel: "Bagian Investor (50% Profit)",
                roiLabel: "ROI (Return On Investment)",
                
                // RAB Section
                rabTitle: "Rencana Anggaran Biaya (RAB) untuk Investor",
                rabSubtitle: "Transparansi penuh dalam penggunaan dana investasi",
                rabTable: {
                    no: "No",
                    description: "Uraian Pekerjaan",
                    volume: "Volume",
                    unit: "Satuan",
                    unitPrice: "Harga Satuan (Rp)",
                    total: "Jumlah (Rp)",
                    landPurchase: "Pembelian Lahan",
                    construction: "Konstruksi Bangunan (per unit)",
                    operational: "Biaya Operasional & Pemasaran",
                    totalCost: "Total Biaya Proyek",
                    note: "* RAB adalah perkiraan dan dapat berubah sesuai kondisi di lapangan."
                },
                rabWhyTitle: "Mengapa RAB Penting Bagi Investor?",
                rabWhy1: "Transparansi penggunaan dana",
                rabWhy1Desc: "Anda tahu persis kemana uang Anda dialokasikan",
                rabWhy2: "Kontrol biaya",
                rabWhy2Desc: "Mencegah pembengkakan anggaran selama konstruksi",
                rabWhy3: "Akuntabilitas",
                rabWhy3Desc: "Developer bertanggung jawab terhadap anggaran yang disepakati",
                rabWhy4: "Prediksi ROI akurat",
                rabWhy4Desc: "Menghitung keuntungan dengan data riil",
                
                // Benefits Section
                benefitsTitle: "Mengapa Properti Lebih Menguntungkan?",
                benefitsSubtitle: "Fakta dan data riil mengapa properti unggul dibanding investasi lain",
                benefit1Title: "Apresiasi Nilai Konsisten",
                benefit1Desc: "Harga properti di Bali naik rata-rata 15-20% per tahun, lebih tinggi dari inflasi (3-4%). Data: Bank Indonesia 2023.",
                benefit2Title: "Aset Nyata Berjamin Hukum",
                benefit2Desc: "SHM (Sertifikat Hak Milik) melindungi investasi Anda secara hukum. Berbeda dengan aset digital yang rentan fluktuasi.",
                benefit3Title: "Pendapatan Pasif Ganda",
                benefit3Desc: "Capital Gain (kenaikan harga jual) + Rental Yield (pendapatan sewa) = ROI lebih tinggi.",
                benefit4Title: "Lindung Nilai Inflasi",
                benefit4Desc: "Nilai properti cenderung naik seiring inflasi, melindungi daya beli uang Anda.",
                benefit5Title: "Leverage Bank",
                benefit5Desc: "Anda bisa menggunakan KPR untuk memperbesar daya beli dengan modal terbatas.",
                benefit6Title: "Potensi Tax Benefit",
                benefit6Desc: "Pengurangan pajak untuk investasi properti di beberapa skenario tertentu.",
                
                // Comparison Section
                comparisonTitle: "Perbandingan dengan Investasi Lain",
                comparisonSubtitle: "Data riil mengapa properti lebih menjanjikan",
                comparisonTable: {
                    instrument: "Instrumen",
                    avgReturn: "Rata-rata Return Tahunan",
                    risk: "Risiko",
                    liquidity: "Likuiditas",
                    note: "Keterangan",
                    deposit: "Deposito",
                    depositReturn: "3-5%",
                    depositRisk: "Rendah",
                    depositLiquidity: "Tinggi",
                    depositNote: "Return rendah, tidak mengalahkan inflasi. Jaminan LPS hanya Rp 2M.",
                    stock: "Saham",
                    stockReturn: "10-15% (volatil)",
                    stockRisk: "Tinggi",
                    stockLiquidity: "Tinggi",
                    stockNote: "Perlu keahlian tinggi. IHSG 2023 turun 2.3%. Risiko kebangkrutan perusahaan.",
                    crypto: "Crypto",
                    cryptoReturn: "30%+ (sangat volatil)",
                    cryptoRisk: "Sangat Tinggi",
                    cryptoLiquidity: "Tinggi",
                    cryptoNote: "Tidak diatur pemerintah. Bitcoin turun 65% dari ATH 2021. Risiko hacking tinggi.",
                    property: "Properti (Graha Harmonia)",
                    propertyReturn: "17-20% (terproyeksi)",
                    propertyRisk: "Rendah - Sedang",
                    propertyLiquidity: "Sedang (1-2 tahun)",
                    propertyNote: "Aset fisik, dilindungi hukum SHM, tahan inflasi, potensi apresiasi tinggi.",
                    dataSource: "* Data berdasarkan: Bank Indonesia, BPS, LPS, Yahoo Finance 2023"
                },
                
                // Legal Safety
                legalTitle: "Keamanan Legalitas & Lokasi",
                legalDesc: "Proyek Premium Semi-Villa berlokasi di <strong>Gubug, Tabanan</strong> (19 Unit) dan menjamin:",
                legalPoint1: "Jaminan Legalitas SHM (Sertifikat Hak Milik).",
                legalPoint2: "SHM dibalik nama langsung atas nama Investor (untuk proteksi aset).",
                
                // Footer
                footerNote: "Proyek oleh Asana Graha Nusantara. Semua data keuangan bersifat simulasi.",
                copyright: "¬© 2025 Asana Graha Nusantara."
            },
            en: {
                home: "Home",
                rab: "Budget",
                keuntungan: "Benefits",
                perbandingan: "Comparison",
                calculator: "Calculator",
                consultation: "Consultation",
                currentLanguage: "English",
                heroSubtitle: "Premium Property Investment",
                heroTitle: "Graha <span class='text-amber-400'>Harmonia</span>",
                heroDescription: "\"Accelerating Wealth Creation Through Real Estate\"",
                ctaButton: "Profit Simulation",
                landCapital: "Land Capital",
                guarantee: "Guarantee",
                projectDuration: "Project Duration",
                units: "Units",
                shmGuarantee: "SHM (Ownership)",
                months: "Months"
            },
            zh: {
                home: "È¶ñÈ°µ",
                rab: "È¢ÑÁÆó",
                keuntungan: "‰ºòÂäø",
                perbandingan: "ÊØîËæÉ",
                calculator: "ËÆ°ÁÆóÂô®",
                consultation: "Âí®ËØ¢",
                currentLanguage: "‰∏≠Êñá",
                heroSubtitle: "È´òÁ∫ßÊàøÂú∞‰∫ßÊäïËµÑ",
                heroTitle: "Ê†ºÊãâÂìà<span class='text-amber-400'>ÂíåË∞ê</span>",
                heroDescription: "\"ÈÄöËøáÊàøÂú∞‰∫ßÂä†ÈÄüË¥¢ÂØåÂàõÈÄ†\"",
                ctaButton: "Âà©Ê∂¶Ê®°Êãü",
                landCapital: "ÂúüÂú∞ËµÑÊú¨",
                guarantee: "‰øùËØÅ",
                projectDuration: "È°πÁõÆÊúüÈôê",
                units: "Âçï‰Ωç",
                shmGuarantee: "Âú∞Â•ë(ÊâÄÊúâÊùÉ)",
                months: "Êúà"
            },
            ru: {
                home: "–ì–ª–∞–≤–Ω–∞—è",
                rab: "–ë—é–¥–∂–µ—Ç",
                keuntungan: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞",
                perbandingan: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ",
                calculator: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
                consultation: "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è",
                currentLanguage: "–†—É—Å—Å–∫–∏–π",
                heroSubtitle: "–ü—Ä–µ–º–∏—É–º –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏",
                heroTitle: "–ì—Ä–∞—Ö–∞ <span class='text-amber-400'>–ì–∞—Ä–º–æ–Ω–∏—è</span>",
                heroDescription: "\"–£—Å–∫–æ—Ä–µ–Ω–Ω–æ–µ –°–æ–∑–¥–∞–Ω–∏–µ –ë–æ–≥–∞—Ç—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å\"",
                ctaButton: "–°–∏–º—É–ª—è—Ü–∏—è –ü—Ä–∏–±—ã–ª–∏",
                landCapital: "–ö–∞–ø–∏—Ç–∞–ª –ó–µ–º–ª–∏",
                guarantee: "–ì–∞—Ä–∞–Ω—Ç–∏—è",
                projectDuration: "–°—Ä–æ–∫ –ü—Ä–æ–µ–∫—Ç–∞",
                units: "–ï–¥–∏–Ω–∏—Ü—ã",
                shmGuarantee: "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ (–í–ª–∞–¥–µ–Ω–∏–µ)",
                months: "–ú–µ—Å—è—Ü—ã"
            }
        };

        // Set WhatsApp Link
        document.getElementById('whatsapp-link').href = 
            `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent("Halo, saya tertarik dengan proyek Graha Harmonia.")}`;

        // Initialize Lucide icons
        const initializeLucide = () => {
            if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
                lucide.createIcons();
            }
        };

        // Language functions
        const setLanguage = (lang) => {
            currentLang = lang;
            document.getElementById('currentLanguage').textContent = translations[lang].currentLanguage;
            
            // Update all elements with data-i18n attribute
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.innerHTML = translations[lang][key];
                    }
                }
            });
            
            // Re-render app with new language
            renderApp();
        };

        // Toggle mobile menu
        const toggleMobileMenu = () => {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        };

        // Main rendering function
        const renderApp = () => {
            // Real-time calculation
            const totalConstructionCost = constructionCostPerUnit * units;
            const totalRevenue = avgSalesPrice * units;
            const totalCost = landCost + totalConstructionCost + operationalCost;
            const grossProfit = totalRevenue - totalCost;
            const investorShare = grossProfit * 0.5;
            const roi = (investorShare / landCost) * 100;

            const app = document.getElementById('app');
            app.innerHTML = `
                <!-- Hero Section -->
                <header id="home" class="relative bg-slate-900 text-white min-h-screen flex items-center justify-center overflow-hidden">
                    <div 
                        class="absolute inset-0 opacity-30 bg-cover bg-center" 
                        style="background-image: url('${IMAGE_HERO}'); background-position: 50% 70%;"
                        onerror="this.style.backgroundImage='url(https://placehold.co/1200x800/0f172a/fcd34d?text=GAMBAR+TIDAK+DITEMUKAN)'"
                    ></div>
                    <div class="absolute inset-0 bg-gradient-to-b from-slate-950/90 via-slate-950/70 to-slate-950/90"></div>

                    <div class="container mx-auto px-6 relative z-10 text-center py-32">
                        <div class="inline-block px-4 py-1 mb-4 border border-amber-400 rounded-full bg-amber-400/10 text-amber-300 text-sm font-semibold tracking-wide uppercase">
                            ${translations[currentLang].heroSubtitle}
                        </div>
                        <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight heading-font">
                            ${translations[currentLang].heroTitle}
                        </h1>
                        <p class="text-xl md:text-2xl text-slate-300 mb-8 max-w-2xl mx-auto font-light">
                            ${translations[currentLang].heroDescription}
                        </p>
                        <a href="#calculator" class="bg-amber-500 hover:bg-amber-600 text-slate-900 px-8 py-4 rounded-lg font-bold transition-all transform hover:scale-105 flex items-center justify-center gap-2 shadow-xl shadow-amber-500/30">
                            <i data-lucide="bar-chart-3" class="w-5 h-5"></i> ${translations[currentLang].ctaButton}
                        </a>
                    </div>
                </header>

                <!-- Stats Summary -->
                <section class="py-10 bg-white border-b border-slate-200 sticky top-16 z-10 shadow-md">
                    <div class="container mx-auto px-6">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 divide-x divide-slate-200">
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">${translations[currentLang].landCapital}</p>
                                <p class="text-xl md:text-2xl font-bold text-slate-800">${formatMilyar(landCost)}</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">${translations[currentLang].guarantee}</p>
                                <p class="text-xl md:text-2xl font-bold text-amber-600">${translations[currentLang].shmGuarantee}</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">${translations[currentLang].projectDuration}</p>
                                <p class="text-xl md:text-2xl font-bold text-slate-800">${durationMonths} ${translations[currentLang].months}</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xs md:text-sm text-slate-500 uppercase tracking-wider">${translations[currentLang].units}</p>
                                <p class="text-xl md:text-2xl font-bold text-slate-800">${units} Unit</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- RAB Section -->
                <section id="rab" class="py-20 bg-white">
                    <div class="container mx-auto px-6">
                        <div class="text-center mb-12">
                            <h2 class="text-4xl font-bold heading-font text-slate-800">${translations[currentLang].rabTitle}</h2>
                            <p class="text-slate-600 mt-2 max-w-2xl mx-auto">${translations[currentLang].rabSubtitle}</p>
                        </div>
                        
                        <div class="overflow-x-auto mb-12">
                            <table class="min-w-full bg-white border border-slate-300 rounded-lg rab-table">
                                <thead>
                                    <tr>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].rabTable.no}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].rabTable.description}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].rabTable.volume}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].rabTable.unit}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].rabTable.unitPrice}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].rabTable.total}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-slate-200">
                                        <td class="py-3 px-4">1</td>
                                        <td class="py-3 px-4">${translations[currentLang].rabTable.landPurchase}</td>
                                        <td class="py-3 px-4">1</td>
                                        <td class="py-3 px-4">Paket</td>
                                        <td class="py-3 px-4">${formatIDR(landCost)}</td>
                                        <td class="py-3 px-4 font-semibold">${formatIDR(landCost)}</td>
                                    </tr>
                                    <tr class="border-b border-slate-200">
                                        <td class="py-3 px-4">2</td>
                                        <td class="py-3 px-4">${translations[currentLang].rabTable.construction}</td>
                                        <td class="py-3 px-4">${units}</td>
                                        <td class="py-3 px-4">Unit</td>
                                        <td class="py-3 px-4">${formatIDR(constructionCostPerUnit)}</td>
                                        <td class="py-3 px-4">${formatIDR(constructionCostPerUnit * units)}</td>
                                    </tr>
                                    <tr class="border-b border-slate-200">
                                        <td class="py-3 px-4">3</td>
                                        <td class="py-3 px-4">${translations[currentLang].rabTable.operational}</td>
                                        <td class="py-3 px-4">1</td>
                                        <td class="py-3 px-4">Paket</td>
                                        <td class="py-3 px-4">${formatIDR(operationalCost)}</td>
                                        <td class="py-3 px-4">${formatIDR(operationalCost)}</td>
                                    </tr>
                                    <tr class="bg-slate-100 font-bold">
                                        <td colspan="5" class="py-3 px-4 text-right">${translations[currentLang].rabTable.totalCost}</td>
                                        <td class="py-3 px-4">${formatIDR(landCost + constructionCostPerUnit * units + operationalCost)}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <p class="text-slate-600 text-sm mb-12">${translations[currentLang].rabTable.note}</p>
                        
                        <div class="grid md:grid-cols-2 gap-8 mt-12">
                            <div>
                                <h3 class="text-2xl font-bold text-slate-800 mb-6 heading-font">${translations[currentLang].rabWhyTitle}</h3>
                                <div class="space-y-6">
                                    <div class="flex items-start gap-4">
                                        <div class="w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-eye text-amber-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800 mb-1">${translations[currentLang].rabWhy1}</h4>
                                            <p class="text-slate-600">${translations[currentLang].rabWhy1Desc}</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-4">
                                        <div class="w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-chart-line text-amber-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800 mb-1">${translations[currentLang].rabWhy2}</h4>
                                            <p class="text-slate-600">${translations[currentLang].rabWhy2Desc}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="space-y-6 mt-10 md:mt-0">
                                    <div class="flex items-start gap-4">
                                        <div class="w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-file-contract text-amber-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800 mb-1">${translations[currentLang].rabWhy3}</h4>
                                            <p class="text-slate-600">${translations[currentLang].rabWhy3Desc}</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-4">
                                        <div class="w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-calculator text-amber-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800 mb-1">${translations[currentLang].rabWhy4}</h4>
                                            <p class="text-slate-600">${translations[currentLang].rabWhy4Desc}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Benefits Section -->
                <section id="keuntungan" class="py-20 bg-slate-50">
                    <div class="container mx-auto px-6">
                        <div class="text-center mb-12">
                            <h2 class="text-4xl font-bold heading-font text-slate-800">${translations[currentLang].benefitsTitle}</h2>
                            <p class="text-slate-600 mt-2 max-w-2xl mx-auto">${translations[currentLang].benefitsSubtitle}</p>
                        </div>
                        
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-chart-line text-green-600 text-xl"></i>
                                </div>
                                <h3 class="text-xl font-bold mb-4 text-slate-800">${translations[currentLang].benefit1Title}</h3>
                                <p class="text-slate-600">${translations[currentLang].benefit1Desc}</p>
                            </div>
                            
                            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-shield-alt text-blue-600 text-xl"></i>
                                </div>
                                <h3 class="text-xl font-bold mb-4 text-slate-800">${translations[currentLang].benefit2Title}</h3>
                                <p class="text-slate-600">${translations[currentLang].benefit2Desc}</p>
                            </div>
                            
                            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-money-bill-wave text-purple-600 text-xl"></i>
                                </div>
                                <h3 class="text-xl font-bold mb-4 text-slate-800">${translations[currentLang].benefit3Title}</h3>
                                <p class="text-slate-600">${translations[currentLang].benefit3Desc}</p>
                            </div>
                            
                            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                                <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-inflation text-red-600 text-xl"></i>
                                </div>
                                <h3 class="text-xl font-bold mb-4 text-slate-800">${translations[currentLang].benefit4Title}</h3>
                                <p class="text-slate-600">${translations[currentLang].benefit4Desc}</p>
                            </div>
                            
                            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                                <div class="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-hand-holding-usd text-amber-600 text-xl"></i>
                                </div>
                                <h3 class="text-xl font-bold mb-4 text-slate-800">${translations[currentLang].benefit5Title}</h3>
                                <p class="text-slate-600">${translations[currentLang].benefit5Desc}</p>
                            </div>
                            
                            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                                <div class="w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-percent text-indigo-600 text-xl"></i>
                                </div>
                                <h3 class="text-xl font-bold mb-4 text-slate-800">${translations[currentLang].benefit6Title}</h3>
                                <p class="text-slate-600">${translations[currentLang].benefit6Desc}</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Comparison Section -->
                <section id="perbandingan" class="py-20 bg-white">
                    <div class="container mx-auto px-6">
                        <div class="text-center mb-12">
                            <h2 class="text-4xl font-bold heading-font text-slate-800">${translations[currentLang].comparisonTitle}</h2>
                            <p class="text-slate-600 mt-2 max-w-2xl mx-auto">${translations[currentLang].comparisonSubtitle}</p>
                        </div>
                        
                        <div class="overflow-x-auto mb-8">
                            <table class="min-w-full bg-white border border-slate-300 rounded-lg comparison-table">
                                <thead class="bg-slate-800 text-white">
                                    <tr>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].comparisonTable.instrument}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].comparisonTable.avgReturn}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].comparisonTable.risk}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].comparisonTable.liquidity}</th>
                                        <th class="py-3 px-4 text-left">${translations[currentLang].comparisonTable.note}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-slate-200">
                                        <td class="py-3 px-4 font-semibold">${translations[currentLang].comparisonTable.deposit}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.depositReturn}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.depositRisk}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.depositLiquidity}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.depositNote}</td>
                                    </tr>
                                    <tr class="border-b border-slate-200">
                                        <td class="py-3 px-4 font-semibold">${translations[currentLang].comparisonTable.stock}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.stockReturn}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.stockRisk}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.stockLiquidity}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.stockNote}</td>
                                    </tr>
                                    <tr class="border-b border-slate-200">
                                        <td class="py-3 px-4 font-semibold">${translations[currentLang].comparisonTable.crypto}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.cryptoReturn}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.cryptoRisk}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.cryptoLiquidity}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.cryptoNote}</td>
                                    </tr>
                                    <tr class="border-b border-slate-200 bg-amber-50">
                                        <td class="py-3 px-4 font-semibold text-amber-700">${translations[currentLang].comparisonTable.property}</td>
                                        <td class="py-3 px-4 font-bold text-amber-700">${translations[currentLang].comparisonTable.propertyReturn}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.propertyRisk}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.propertyLiquidity}</td>
                                        <td class="py-3 px-4">${translations[currentLang].comparisonTable.propertyNote}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <p class="text-slate-600 text-sm">${translations[currentLang].comparisonTable.dataSource}</p>
                        
                        <!-- Key Takeaways -->
                        <div class="mt-12 p-6 bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl border border-amber-200">
                            <h3 class="text-2xl font-bold text-slate-800 mb-4">Kesimpulan Utama:</h3>
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="flex items-start gap-3">
                                    <div class="w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-check text-white text-sm"></i>
                                    </div>
                                    <p class="text-slate-700"><strong>Properti</strong> memberikan keseimbangan terbaik antara return dan risiko</p>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-check text-white text-sm"></i>
                                    </div>
                                    <p class="text-slate-700"><strong>Aset fisik</strong> dengan jaminan hukum lebih aman dibanding aset digital</p>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="w-8 h-8 bg-amber-500 rounded-full flex items-center justify-content flex-shrink-0">
                                        <i class="fas fa-check text-white text-sm"></i>
                                    </div>
                                    <p class="text-slate-700"><strong>Graha Harmonia</strong> menawarkan ROI lebih tinggi dengan risiko terkelola</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Interactive Calculator -->
                <section id="calculator" class="py-20 bg-slate-100 text-slate-900 relative">
                    <div class="container mx-auto px-6 relative z-10">
                        <div class="text-center mb-12">
                            <span class="text-amber-600 font-semibold tracking-wider uppercase text-sm">${translations[currentLang].calculatorSubtitle}</span>
                            <h2 class="text-4xl font-bold mt-2 heading-font text-slate-800">${translations[currentLang].calculatorTitle}</h2>
                        </div>

                        <div class="grid lg:grid-cols-12 gap-12">
                            <!-- CONTROLS (INPUT) -->
                            <div class="lg:col-span-5 bg-slate-800 p-8 rounded-2xl border border-slate-700">
                                <h3 class="text-xl font-bold mb-6 text-slate-200">${translations[currentLang].projectParams}</h3>
                                <div class="space-y-8">
                                    <!-- Slider Harga Jual -->
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <label for="avgSalesPrice" class="text-sm text-slate-300">${translations[currentLang].avgPriceLabel}</label>
                                            <span id="displaySalesPrice" class="font-bold text-amber-400">${formatMilyar(avgSalesPrice)}</span>
                                        </div>
                                        <input type="range" id="avgSalesPrice" min="800000000" max="2000000000" step="50000000" value="${avgSalesPrice}" class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-amber-500"/>
                                    </div>

                                    <!-- Slider Biaya Bangun -->
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <label for="constructionCost" class="text-sm text-slate-300">${translations[currentLang].constructionCostLabel}</label>
                                            <span id="displayConstructionCost" class="font-bold text-slate-300">${formatMilyar(constructionCostPerUnit)}</span>
                                        </div>
                                        <input type="range" id="constructionCost" min="300000000" max="800000000" step="10000000" value="${constructionCostPerUnit}" class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-amber-500"/>
                                    </div>
                                </div>
                            </div>

                            <!-- RESULTS (OUTPUT) -->
                            <div class="lg:col-span-7 bg-white text-slate-900 p-8 rounded-2xl shadow-2xl">
                                <h3 class="text-xl font-bold mb-6 text-slate-800 border-b pb-4">${translations[currentLang].resultsTitle}</h3>
                                
                                <div class="bg-amber-50 rounded-xl p-6 border border-amber-100 mb-6">
                                    <div class="flex justify-between items-end mb-2">
                                        <p class="text-amber-800 font-semibold">${translations[currentLang].netProfit}</p>
                                        <p class="text-3xl font-bold text-amber-600" id="grossProfit">${formatIDR(grossProfit)}</p>
                                    </div>
                                </div>

                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 text-center">
                                        <p class="text-xs text-slate-500 uppercase tracking-wide mb-2">${translations[currentLang].investorShareLabel}</p>
                                        <p class="text-xl font-bold text-slate-800" id="investorShare">${formatIDR(investorShare)}</p>
                                    </div>
                                    <div class="bg-slate-800 p-5 rounded-lg text-white text-center shadow-lg transform scale-105 border-2 border-amber-400">
                                        <p class="text-xs text-amber-300 uppercase tracking-wide mb-2">${translations[currentLang].roiLabel}</p>
                                        <p class="text-3xl font-bold" id="roi">${roi.toFixed(1)}%</p>
                                    </div>
                                </div>
                                
                                <div class="mt-8 p-4 bg-slate-50 rounded-lg">
                                    <p class="text-slate-600 text-sm">
                                        <i class="fas fa-info-circle text-amber-600 mr-2"></i>
                                        <strong>Analisis:</strong> ROI ${roi.toFixed(1)}% berarti dalam ${durationMonths} bulan, setiap Rp 1 Miliar investasi akan menghasilkan Rp ${(roi/100).toFixed(3)} Miliar keuntungan.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Legal Safety + Masterplan Image -->
                <section class="py-20 bg-slate-50 border-t border-slate-200">
                    <div class="container mx-auto px-6">
                        <div class="flex flex-col md:flex-row items-center gap-12">
                            <div class="md:w-1/2">
                                <h2 class="text-3xl font-bold text-slate-800 mb-6 heading-font">${translations[currentLang].legalTitle}</h2>
                                <p class="text-slate-600 mb-4">${translations[currentLang].legalDesc}</p>
                                <ul class="list-disc list-inside text-slate-700 space-y-2 ml-4">
                                    <li>${translations[currentLang].legalPoint1}</li>
                                    <li>${translations[currentLang].legalPoint2}</li>
                                </ul>
                            </div>
                            
                            <div class="md:w-1/2">
                                <img 
                                    src="${IMAGE_MASTERPLAN}" 
                                    alt="Denah Lokasi Proyek Premium Semi-Villa di Gubug, Tabanan" 
                                    class="w-full h-auto rounded-2xl shadow-xl border border-slate-300"
                                    onerror="this.src='https://placehold.co/600x400/f3f4f6/1f2937?text=Masterplan+Proyek'"
                                />
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Contact Section -->
                <section id="kontak" class="py-20 bg-white">
                    <div class="container mx-auto px-6">
                        <div class="text-center mb-12">
                            <h2 class="text-4xl font-bold heading-font text-slate-800">Konsultasi Investasi</h2>
                            <p class="text-slate-600 mt-2 max-w-2xl mx-auto">Diskusikan peluang investasi Graha Harmonia dengan tim kami</p>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-12">
                            <div>
                                <h3 class="text-2xl font-bold text-slate-800 mb-6">Kontak Kami</h3>
                                
                                <div class="space-y-6">
                                    <div class="flex items-start gap-4">
                                        <div class="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-user-tie text-amber-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800">Agus Ari Gunawan</h4>
                                            <p class="text-slate-600">Direktur Utama</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-start gap-4">
                                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fab fa-whatsapp text-green-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800">WhatsApp</h4>
                                            <p class="text-slate-600">0857 1188 0101</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-start gap-4">
                                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-envelope text-blue-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800">Email</h4>
                                            <p class="text-slate-600">asanagrahanusantara@gmail.com</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-start gap-4">
                                        <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas fa-map-marker-alt text-purple-600"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-800">Kantor Bali</h4>
                                            <p class="text-slate-600">Jl. Semila Jati II, Gubug, Tabanan, Bali</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="text-2xl font-bold text-slate-800 mb-6">Formulir Minat</h3>
                                
                                <form id="contactForm" class="space-y-4">
                                    <div>
                                        <label class="block text-slate-700 mb-2">Nama Lengkap</label>
                                        <input type="text" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500" placeholder="Masukkan nama Anda" required>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-slate-700 mb-2">Email</label>
                                        <input type="email" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500" placeholder="email@anda.com" required>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-slate-700 mb-2">Nomor Telepon</label>
                                        <input type="tel" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500" placeholder="08xxxxxxxxxx" required>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-slate-700 mb-2">Pesan</label>
                                        <textarea class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500" rows="4" placeholder="Tanyakan tentang investasi Graha Harmonia..."></textarea>
                                    </div>
                                    
                                    <button type="submit" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-6 rounded-lg transition">
                                        Kirim Permintaan Konsultasi
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="bg-slate-100 text-slate-800 py-10 text-center border-t border-slate-200">
                    <div class="container mx-auto px-6">
                        <img 
                            src="${IMAGE_LOGO}" 
                            alt="Logo Asana Graha Nusantara" 
                            class="mx-auto w-16 h-auto mb-4 opacity-75"
                            onerror="this.style.display='none'"
                        >
                        <p class="text-xs text-slate-500">${translations[currentLang].footerNote}</p>
                        <div class="mt-4 text-slate-600 text-sm">
                            ${translations[currentLang].copyright}
                        </div>
                    </div>
                </footer>
            `;
            
            initializeLucide();
        };

        // Event listeners for sliders
        const attachEventListeners = () => {
            const updateAndRender = () => {
                const salesPriceInput = document.getElementById('avgSalesPrice');
                const constructionCostInput = document.getElementById('constructionCost');

                if (salesPriceInput) avgSalesPrice = Number(salesPriceInput.value);
                if (constructionCostInput) constructionCostPerUnit = Number(constructionCostInput.value);

                renderApp();
                attachEventListeners();
            };
            
            const salesPriceSlider = document.getElementById('avgSalesPrice');
            const constructionCostSlider = document.getElementById('constructionCost');

            if (salesPriceSlider && salesPriceSlider.dataset.listener !== 'true') {
                salesPriceSlider.addEventListener('input', updateAndRender);
                salesPriceSlider.dataset.listener = 'true';
            }

            if (constructionCostSlider && constructionCostSlider.dataset.listener !== 'true') {
                constructionCostSlider.addEventListener('input', updateAndRender);
                constructionCostSlider.dataset.listener = 'true';
            }
            
            // Contact form submission
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    alert('Terima kasih! Permintaan konsultasi Anda telah dikirim. Tim kami akan menghubungi Anda dalam 1x24 jam.');
                    contactForm.reset();
                });
            }
        };

        // Language toggle
        document.getElementById('languageToggle').addEventListener('click', function() {
            document.getElementById('languageDropdown').classList.toggle('show');
        });

        // Close language dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('languageDropdown');
            const toggle = document.getElementById('languageToggle');
            if (!toggle.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Language selection
        document.querySelectorAll('.lang-option').forEach(option => {
            option.addEventListener('click', function() {
                const lang = this.getAttribute('data-lang');
                setLanguage(lang);
                document.getElementById('languageDropdown').classList.remove('show');
            });
        });

        // Mobile menu toggle
        document.getElementById('mobileMenuButton').addEventListener('click', toggleMobileMenu);

        // Close mobile menu when clicking a link
        document.addEventListener('click', function(event) {
            if (event.target.matches('#mobileMenu a')) {
                document.getElementById('mobileMenu').classList.add('hidden');
            }
        });

        // Initialization
        window.onload = () => {
            renderApp();
            attachEventListeners();
            setTimeout(initializeLucide, 100);
        };

    </script>
</body>
</html>
