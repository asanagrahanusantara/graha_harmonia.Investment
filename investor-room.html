<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="pageTitle">Ruang Data Investor | Graha Harmonia Premium Semi-Villa</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* NEW LIGHT THEME COLORS */
        :root {
            --bg: #F8F9FA; /* Light background */
            --card: #FFFFFF; /* White card */
            --primary-accent: #E6B335; /* Gold/Yellow */
            --secondary-accent: #35B374; /* Teal/Green for positive action */
            --text-dark: #1A1A2E; /* Deep Navy Blue for contrast */
            --text-muted: #6C757D; /* Medium gray */
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg);
            color: var(--text-dark);
            min-height: 100vh;
        }

        .heading {
            font-family: 'Playfair Display', serif;
            font-weight: 800;
        }
        /* HEADER DRONE BACKGROUND */
        .header-bg {
            /* Placeholder Drone View - Ganti URL ini dengan foto drone asli Anda */
            background-image: url('Images/DJI_0044.PNG'); 
            background-size: cover;
            background-position: center;
            position: relative;
        }
        .header-overlay {
            background: linear-gradient(to bottom, rgba(26,26,46,0.85), rgba(26,26,46,0.95));
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
        }
        
        .card {
            background: var(--card);
            border: 1px solid #E9ECEF;
            border-radius: 1.25rem;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: hidden;
            box-shadow: 0 10px 30px -10px rgba(26, 26, 46, 0.08);
            position: relative;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px -10px rgba(26, 26, 46, 0.15);
        }

        .metric-value {
            font-family: 'Playfair Display', serif;
            color: var(--primary-accent);
        }

        .btn-primary-accent {
            background: var(--primary-accent);
            color: var(--text-dark);
            font-weight: 800;
            transition: background 0.3s, transform 0.2s;
            box-shadow: 0 6px 15px -3px rgba(230, 179, 53, 0.5);
        }
        .btn-primary-accent:hover {
            background: #D4A32A;
            transform: translateY(-1px);
        }

        .btn-secondary-accent {
            background: var(--secondary-accent);
            color: white;
            font-weight: 800;
            transition: background 0.3s, transform 0.2s;
            box-shadow: 0 6px 15px -3px rgba(53, 179, 116, 0.5);
        }
        .btn-secondary-accent:hover {
            background: #2CA063;
            transform: translateY(-1px);
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            color: var(--text-dark);
        }
        
        .calc-input {
            width: 100%;
            border-radius: 0.75rem;
            border: 2px solid #D1D5DB;
        }

        /* WATERMARK DIGITAL */
        #digital-watermark {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: -10;
            opacity: 0.03; 
        }
        .wm-item {
            position: absolute;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-dark);
            white-space: nowrap;
            transform: rotate(-30deg);
            padding: 20px;
        }

        /* Chart Structure & Styling */
        @keyframes bar-animate {
            from { height: 0; }
            to { height: var(--final-height); }
        }
        .chart-container {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 250px;
            padding-bottom: 20px;
            background: linear-gradient(to top, #F3F4F6 1px, transparent 1px);
            background-size: 100% 50px; 
            position: relative;
        }
        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 20%;
        }
        .bar {
            width: 80%;
            background-color: #D1D5DB; 
            border-top: 3px solid #9CA3AF;
            border-radius: 6px 6px 0 0;
            animation: bar-animate 1.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            position: relative;
            box-shadow: 0 -4px 6px rgba(0,0,0,0.1);
        }
        .bar.highlight {
            background: linear-gradient(to top, var(--primary-accent), #FFD700); 
            border-top: 3px solid #FFD700;
        }

        .whatsapp-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
            width: 64px;
            height: 64px;
            background: #25D366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 15px rgba(37, 211, 102, 0.6);
            transition: all 0.3s ease;
            animation: pulse 1.5s infinite;
        }
        .whatsapp-float:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 20px rgba(37, 211, 102, 0.8);
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background: var(--card);
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
    </style>
</head>

<body>

    <!-- DIGITAL WATERMARK LAYER -->
    <div id="digital-watermark"></div>

    <!-- WHATSAPP FLOAT BUTTON -->
    <a href="https://wa.me/628123456789?text=Halo%2C%20saya%20tertarik%20dengan%20proyek%20Graha%20Harmonia%20setelah%20melihat%20Ruang%20Data." 
       target="_blank" 
       class="whatsapp-float" 
       title="Hubungi Kami via WhatsApp">
        <svg fill="#ffffff" width="36" height="36" viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12c0 3.86 2.052 7.29 5.163 9.176l-.608 1.838a.5.5 0 00.677.636l1.838-.608C10.71 21.948 12 22 12 22c5.523 0 10-4.477 10-10S17.523 2 12 2zm3.328 14.868a.86.86 0 01-1.018.156l-.62-.31a.86.86 0 00-1.045.176c-1.39 1.157-2.617 1.488-3.414 1.341a.86.86 0 01-.733-.518l-.517-1.345a.86.86 0 00-1.393-.243l-1.09.845a.86.86 0 00-.28.847l.18 1.05a.86.86 0 00.378.583c.96.643 2.22 1.052 3.708 1.052 2.723 0 5.446-1.516 7.42-3.79a.86.86 0 00-.272-1.22l-.766-.546a.86.86 0 00-.917.337l-.54.896a.86.86 0 01-.97.43z"/></svg>
    </a>

    <!-- MAIN CONTAINER -->
    <div class="container mx-auto max-w-7xl px-4 py-8 sm:py-12">
        
        <!-- HEADER -->
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center border-b border-gray-200 pb-6 mb-12 gap-4">
            <div>
                <div class="flex items-center gap-4 mb-2">
                    <p class="text-xs tracking-widest uppercase text-gray-500 font-semibold flex items-center gap-2" data-lang="id">
                        <i data-lucide="lock" class="w-4 h-4 text-[var(--secondary-accent)]"></i> RUANG DATA MITRA STRATEGIS
                    </p>
                    <p class="text-xs tracking-widest uppercase text-gray-500 font-semibold flex items-center gap-2 hidden" data-lang="en">
                        <i data-lucide="lock" class="w-4 h-4 text-[var(--secondary-accent)]"></i> STRATEGIC PARTNER DATA ROOM
                    </p>
                    <!-- Language Toggle -->
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-gray-500">Language:</span>
                        <button id="lang-toggle-id" class="text-xs font-bold px-2 py-1 rounded-full border border-gray-400 bg-gray-200">ID</button>
                        <button id="lang-toggle-en" class="text-xs font-bold px-2 py-1 rounded-full border border-gray-400 text-gray-500 hover:bg-gray-100 transition">EN</button>
                    </div>
                </div>
                
                <h1 class="heading text-4xl md:text-5xl mt-1 text-[var(--text-dark)]">
                    <span data-lang="id">Ringkasan Proyek</span>
                    <span data-lang="en" class="hidden">Project Summary</span>
                    <span class="text-[var(--primary-accent)]">Graha Harmonia Premium Semi-Villa</span>
                </h1>
                <p class="text-sm text-gray-500 mt-1">
                    <span data-lang="id">Disusun oleh: Tim Analis Keuangan Graha Harmonia untuk</span>
                    <span data-lang="en" class="hidden">Prepared by: Graha Harmonia Financial Analyst Team for</span>
                    <span id="investor-name" class="font-semibold text-[var(--text-dark)]">Eksklusif</span>
                </p>
            </div>
            <!-- Logout Button -->
            <a href="#" id="logout-btn" class="flex items-center gap-2 bg-gray-100 border border-gray-300 text-[var(--text-dark)] px-4 py-2.5 rounded-xl text-sm font-semibold hover:bg-gray-200 transition">
                <i data-lucide="log-out" class="w-4 h-4"></i> <span data-lang="id">Logout Aman</span><span data-lang="en" class="hidden">Secure Logout</span>
            </a>
        </header>

        <!-- SECTION 1: KEY METRICS & SECURITY (Enhanced Grid) -->
        <section class="mb-16">
            <h2 class="section-title text-3xl font-bold mb-8 border-l-4 border-[var(--primary-accent)] pl-4">
                <span data-lang="id">Metrik Kinerja Utama & Struktur Jaminan</span>
                <span data-lang="en" class="hidden">Key Performance Metrics & Guarantee Structure</span>
            </h2>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                
                <!-- Metric 1: Investment Amount - Gold Focus -->
                <div class="card p-6 group">
                    <p class="text-sm uppercase text-[var(--text-muted)] tracking-wider" data-lang="id">Alokasi Mitra Terbatas</p>
                    <p class="text-sm uppercase text-[var(--text-muted)] tracking-wider hidden" data-lang="en">Limited Partner Allocation</p>
                    <div class="metric-value text-4xl font-extrabold my-2 group-hover:text-amber-600 transition duration-300" id="metric-allocation">
                        Rp 4.800.000.000
                    </div>
                    <p class="text-xs text-gray-500 flex items-center gap-1" data-lang="id">
                        <i data-lucide="percent" class="w-4 h-4"></i> Hanya 53% Total Valuasi Proyek
                    </p>
                    <p class="text-xs text-gray-500 flex items-center gap-1 hidden" data-lang="en">
                        <i data-lucide="percent" class="w-4 h-4"></i> Only 53% of Total Project Valuation
                    </p>
                </div>

                <!-- Metric 2: Profit Share - Gold Focus -->
                <div class="card p-6 group">
                    <p class="text-sm uppercase text-[var(--text-muted)] tracking-wider" data-lang="id">Bagi Hasil Murni</p>
                    <p class="text-sm uppercase text-[var(--text-muted)] tracking-wider hidden" data-lang="en">Net Profit Sharing</p>
                    <div class="metric-value text-4xl font-extrabold my-2 group-hover:text-amber-600 transition duration-300">
                        50%
                    </div>
                    <p class="text-xs text-gray-500 flex items-center gap-1" data-lang="id">
                        <i data-lucide="trending-up" class="w-4 h-4"></i> Dari Net Profit Proyek
                    </p>
                    <p class="text-xs text-gray-500 flex items-center gap-1 hidden" data-lang="en">
                        <i data-lucide="trending-up" class="w-4 h-4"></i> From Project Net Profit
                    </p>
                </div>

                <!-- Metric 3: Guarantee (SHM) - Secondary Accent/Security -->
                <div class="card p-6 border-green-700/50 card-green-border group">
                    <p class="text-sm uppercase text-green-700 tracking-wider font-semibold" data-lang="id">Jaminan Aset Utama</p>
                    <p class="text-sm uppercase text-green-700 tracking-wider font-semibold hidden" data-lang="en">Primary Asset Guarantee</p>
                    <div class="metric-value text-4xl font-extrabold my-2 text-[var(--secondary-accent)] group-hover:text-green-800 transition duration-300">
                        SHM
                    </div>
                    <p class="text-xs text-green-700 font-semibold flex items-center gap-1" data-lang="id">
                        <i data-lucide="shield-check" class="w-4 h-4"></i> Sertifikat Hak Milik Pribadi Investor
                    </p>
                    <p class="text-xs text-green-700 font-semibold flex items-center gap-1 hidden" data-lang="en">
                        <i data-lucide="shield-check" class="w-4 h-4"></i> Private Investor Freehold Title (SHM)
                    </p>
                </div>

                <!-- Metric 4: Capital Gain - Gold Focus -->
                <div class="card p-6 group">
                    <p class="text-sm uppercase text-[var(--text-muted)] tracking-wider" data-lang="id">Batas Waktu Bergabung</p>
                    <p class="text-sm uppercase text-[var(--text-muted)] tracking-wider hidden" data-lang="en">Joining Deadline</p>
                    <div class="metric-value text-4xl font-extrabold my-2 text-red-600 group-hover:text-red-700 transition duration-300">
                        31 Jan '26
                    </div>
                    <p class="text-xs text-red-500 font-semibold flex items-center gap-1" data-lang="id">
                        <i data-lucide="timer" class="w-4 h-4"></i> Bergabung di Fase Awal (Kondisi Terbaik)
                    </p>
                    <p class="text-xs text-red-500 font-semibold flex items-center gap-1 hidden" data-lang="en">
                        <i data-lucide="timer" class="w-4 h-4"></i> Join in Early Phase (Best Conditions)
                    </p>
                </div>
            </div>
        </section>

        <!-- SECTION 2: ROI PROJECTION (Animated Chart) - SNOWBALL EFFECT -->
        <section class="mb-16">
            <div class="card p-6 sm:p-8">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b border-gray-100 pb-4">
                    <h2 class="section-title text-3xl font-bold">
                        <span data-lang="id">Proyeksi Pertumbuhan Nilai Aset: Filosofi The Snowball Effect</span>
                        <span data-lang="en" class="hidden">Asset Value Growth Projection: The Snowball Effect Philosophy</span>
                    </h2>
                    <span class="bg-blue-50 text-blue-700 text-sm px-4 py-2 rounded-full font-semibold flex items-center gap-2">
                        <i data-lucide="snowflake" class="w-4 h-4"></i> <span data-lang="id">Forced Appreciation (Membentuk Bola Salju)</span><span data-lang="en" class="hidden">Forced Appreciation (Building the Snowball)</span>
                    </span>
                </div>

                <!-- Animated CSS Bar Chart -->
                <div class="chart-container mt-10">
                    <!-- Base Max Value: 9.000.000.000 = 100% height -->
                    
                    <div class="bar-group">
                        <div class="bar bg-gray-600" style="--final-height: 53.33%;">
                            <span class="bar-value text-white text-xs md:text-sm">4,8 Miliar</span>
                        </div>
                        <span class="bar-label" data-lang="id">Modal Awal</span>
                        <span class="bar-label hidden" data-lang="en">Initial Capital</span>
                    </div>
                    
                    <div class="bar-group">
                        <!-- Nilai 5.3 M dari Proposal (Instant Equity) -->
                        <div class="bar bg-[var(--secondary-accent)]/80" style="--final-height: 58.88%;"> 
                            <span class="bar-value text-white text-xs md:text-sm">5,3 Miliar</span>
                        </div>
                        <span class="bar-label font-extrabold text-[var(--secondary-accent)]" data-lang="id">Instant Equity (Hari 1)</span>
                        <span class="bar-label font-extrabold text-[var(--secondary-accent)] hidden" data-lang="en">Instant Equity (Day 1)</span>
                    </div>

                    <div class="bar-group">
                        <div class="bar bg-yellow-600/80" style="--final-height: 77.77%;">
                            <span class="bar-value text-white text-xs md:text-sm">7,0 Miliar</span>
                        </div>
                        <span class="bar-label" data-lang="id">Akhir Tahun 1 (Appr. I & II)</span>
                        <span class="bar-label hidden" data-lang="en">End of Year 1 (Appr. I & II)</span>
                    </div>

                    <div class="bar-group">
                        <div class="bar highlight" style="--final-height: 100%;">
                            <span class="bar-value text-[var(--text-dark)] text-xs md:text-sm">9,0 Miliar</span>
                        </div>
                        <span class="bar-label font-bold text-[var(--primary-accent)]" data-lang="id">Total Valuasi EXIT (Bln 24)</span>
                        <span class="bar-label font-bold text-[var(--primary-accent)] hidden" data-lang="en">Total Valuation EXIT (Mo 24)</span>
                    </div>
                </div>
                
                <p class="text-sm text-gray-500 mt-6 italic text-center border-t border-gray-100 pt-4" data-lang="id">
                    *Chart menampilkan proyeksi kenaikan nilai Gross Aset Proyek (Total Valuasi) yang dikelola.
                </p>
                <p class="text-sm text-gray-500 mt-6 italic text-center border-t border-gray-100 pt-4 hidden" data-lang="en">
                    *Chart shows the projected Gross Asset Value increase (Total Valuation) under management.
                </p>
            </div>
        </section>

        <!-- SECTION 3: STRATEGY & CALCULATOR (Grid Refined) -->
        <section class="mb-16">
            <h2 class="section-title text-3xl font-bold mb-8 border-l-4 border-[var(--primary-accent)] pl-4">
                <span data-lang="id">Pilar Strategi & Simulator Keuntungan</span>
                <span data-lang="en" class="hidden">Strategic Pillars & Profit Simulator</span>
            </h2>
            
            <div class="grid md:grid-cols-3 gap-8">
                
                <!-- CARD 1: THE 5% RULE (Detailed) -->
                <div class="card p-6 card-gold-border group hover:bg-yellow-50/50">
                    <div class="text-[var(--primary-accent)] mb-3 flex items-center gap-2">
                        <i data-lucide="rocket" class="w-6 h-6"></i>
                        <h3 class="heading text-xl font-bold text-[var(--text-dark)]" data-lang="id">Pilar Ketiga: The 5% Rule (Compounding)</h3>
                        <h3 class="heading text-xl font-bold text-[var(--text-dark)] hidden" data-lang="en">The Third Pilars: The 5% Rule (Compounding)</h3>
                    </div>
                    <p class="text-gray-700 text-sm leading-relaxed mb-4" data-lang="id">
                        Strategi teruji untuk memastikan valuasi properti Anda terus meroket. Kami memaksa kenaikan harga jual minimum **5% setiap 3 bulan** (atau 4x dalam setahun) untuk unit yang tersisa, menciptakan *momentum* yang masif.
                    </p>
                    <p class="text-gray-700 text-sm leading-relaxed mb-4 hidden" data-lang="en">
                        A proven strategy to ensure your property valuation continues to skyrocket. We enforce a minimum **5% price increase every 3 months** (or 4x a year) for remaining units, creating massive *momentum*.
                    </p>
                    <ul class="text-xs text-gray-600 space-y-2 font-semibold">
                        <li class="flex items-start text-yellow-700"><span class="text-[var(--primary-accent)] mr-2">»</span> <span data-lang="id">Profit Anda *compounding* dari kenaikan margin.</span><span data-lang="en" class="hidden">Your profit compounds from margin increases.</span></li>
                        <li class="flex items-start text-yellow-700"><span class="text-[var(--primary-accent)] mr-2">»</span> <span data-lang="id">Membangun urgensi & FOMO di pasar.</span><span data-lang="en" class="hidden">Building market urgency & FOMO.</span></li>
                        <li class="flex items-start text-yellow-700"><span class="text-[var(--primary-accent)] mr-2">»</span> <span data-lang="id">Anti-Stagnasi Valuasi.</span><span data-lang="en" class="hidden">Anti-Valuation Stagnation.</span></li>
                    </ul>
                </div>

                <!-- CARD 2: CAPITAL GAIN SECURITY (Detailed) -->
                <div class="card p-6 border-green-700/50 card-green-border group hover:bg-green-50/50">
                    <div class="text-[var(--secondary-accent)] mb-3 flex items-center gap-2">
                        <i data-lucide="shield-half" class="w-6 h-6"></i>
                        <h3 class="heading text-xl font-bold text-[var(--text-dark)]" data-lang="id">Pilar Pertama & Kedua: Equity & Jaminan</h3>
                        <h3 class="heading text-xl font-bold text-[var(--text-dark)] hidden" data-lang="en">The First & Second Pilars: Equity & Guarantee</h3>
                    </div>
                    <p class="text-gray-700 text-sm leading-relaxed mb-4" data-lang="id">
                        Modal Anda terproteksi sepenuhnya sejak hari pertama. Keamanan berlapis dan *Instant Equity* adalah bagian dari filosofi *Snowball Effect*.
                    </p>
                    <p class="text-gray-700 text-sm leading-relaxed mb-4 hidden" data-lang="en">
                        Your capital is fully protected from day one. Layered security and *Instant Equity* are part of the *Snowball Effect* philosophy.
                    </p>
                    <ul class="text-xs text-green-700 space-y-2 font-semibold">
                        <li class="flex items-start"><span class="text-[var(--secondary-accent)] mr-2">✔</span> <span data-lang="id">Aset diikat dengan **SHM** atas nama Anda (Keamanan Tertinggi).</span><span data-lang="en" class="hidden">Asset is tied with **SHM** in your name (Highest Security).</span></li>
                        <li class="flex items-start"><span class="text-[var(--secondary-accent)] mr-2">✔</span> <span data-lang="id">**Instant Equity** senilai Rp 500 Juta saat akuisisi (Untung saat beli).</span><span data-lang="en" class="hidden">**Instant Equity** valued at IDR 500 Million upon acquisition (Profit at purchase).</span></li>
                        <li class="flex items-start"><span class="text-[var(--secondary-accent)] mr-2">✔</span> <span data-lang="id">**Forced Appreciation** melalui pembangunan infrastruktur.</span><span data-lang="en" class="hidden">**Forced Appreciation** through infrastructure development.</span></li>
                    </ul>
                </div>

                <!-- CARD 3: PROFIT CALCULATOR (Interactive & Prominent) -->
                <div class="card p-6 bg-gray-50 border-gray-300 shadow-xl">
                    <h3 class="heading text-2xl font-bold text-[var(--text-dark)] mb-4 flex items-center gap-2">
                        <i data-lucide="calculator" class="w-6 h-6 text-[var(--text-dark)]"></i> 
                        <span data-lang="id">Simulasi Profit 24 Bulan</span>
                        <span data-lang="en" class="hidden">24-Month Profit Simulation</span>
                    </h3>
                    
                    <label for="investInput" class="text-sm text-gray-700 mb-2 block font-semibold" data-lang="id">Modal Investasi (Juta Rupiah)</label>
                    <label for="investInput" class="text-sm text-gray-700 mb-2 block font-semibold hidden" data-lang="en">Investment Capital (Million IDR)</label>
                    <div class="relative mb-6">
                        <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-lg font-extrabold text-[var(--text-dark)]">Rp</span>
                        <!-- Input value is in millions (4800 = 4.8 Miliar) -->
                        <input type="number" id="investInput" value="4800" min="1000" class="calc-input bg-white pl-12 border-gray-300 text-[var(--text-dark)] text-xl text-right font-mono pr-4 py-3 shadow-inner focus:ring-4 focus:ring-yellow-200 focus:border-[var(--primary-accent)] outline-none transition">
                        <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-lg font-extrabold text-[var(--text-dark)]" data-lang="id">Jt</span>
                        <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-lg font-extrabold text-[var(--text-dark)] hidden" data-lang="en">M IDR</span>
                    </div>

                    <button id="calculateBtn" class="btn-primary-accent w-full py-3 rounded-xl text-lg mb-6 hover:shadow-lg transition">
                        <span data-lang="id">Hitung Total Pengembalian</span>
                        <span data-lang="en" class="hidden">Calculate Total Return</span>
                    </button>

                    <!-- Results Display -->
                    <div id="calc-results" class="space-y-4 text-base bg-white p-4 rounded-lg border border-gray-200">
                        <div class="flex justify-between text-gray-700 pb-2 border-b border-dashed border-gray-200">
                            <span data-lang="id">A. Modal Awal:</span><span data-lang="en" class="hidden">A. Initial Capital:</span>
                            <span id="modal-display" class="font-bold text-[var(--text-dark)]">Rp 4.800.000.000</span>
                        </div>
                        <div class="flex justify-between text-gray-700 pb-2 border-b border-dashed border-gray-200">
                            <span data-lang="id">B. Proyeksi Net Profit (41.6%):</span><span data-lang="en" class="hidden">B. Projected Net Profit (41.6%):</span>
                            <span id="profit-display" class="font-bold text-[var(--secondary-accent)]">Rp 2.000.000.000</span>
                        </div>
                        <div class="flex justify-between text-xl pt-4 font-extrabold text-[var(--primary-accent)] bg-yellow-50 p-3 rounded-lg">
                            <span data-lang="id">C. Total Pengembalian:</span><span data-lang="en" class="hidden">C. Total Return:</span>
                            <span id="total-display">Rp 6.800.000.000</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: COMPETITOR & VISUALS -->
        <section class="mb-16 grid lg:grid-cols-2 gap-8">
            
            <!-- COLUMN 1: COMPETITOR ANALYSIS -->
            <div>
                <h2 class="section-title text-3xl font-bold mb-6 border-l-4 border-[var(--primary-accent)] pl-4">
                    <span data-lang="id">Tabel Pembanding Kritis (High-Level Comparison)</span>
                    <span data-lang="en" class="hidden">Critical Comparison Table (High-Level Comparison)</span>
                </h2>
                <div class="card p-6 overflow-x-auto">
                    <table class="w-full text-left text-sm min-w-[500px]">
                        <thead>
                            <tr class="uppercase text-xs text-gray-500 border-b-2 border-gray-300 bg-gray-50">
                                <th class="py-3 px-2" data-lang="id">Faktor Kritis</th>
                                <th class="py-3 px-2 hidden" data-lang="en">Critical Factor</th>
                                <th class="py-3 px-2 text-[var(--primary-accent)]" data-lang="id">Graha Harmonia (Premium)</th>
                                <th class="py-3 px-2 text-[var(--primary-accent)] hidden" data-lang="en">Graha Harmonia (Premium)</th>
                                <th class="py-3 px-2" data-lang="id">Kompetitor Umum</th>
                                <th class="py-3 px-2 hidden" data-lang="en">General Competitor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-200 hover:bg-yellow-50/20 transition">
                                <td class="py-4 px-2 font-semibold text-[var(--text-dark)]"><span data-lang="id">Jaminan Aset</span><span data-lang="en" class="hidden">Asset Guarantee</span></td>
                                <td class="py-4 px-2 text-[var(--primary-accent)] font-extrabold" data-lang="id">SHM Atas Nama Investor</td>
                                <td class="py-4 px-2 text-[var(--primary-accent)] font-extrabold hidden" data-lang="en">SHM in Investor's Name</td>
                                <td class="py-4 px-2 text-red-500" data-lang="id">HGB/Developer (Risiko)</td>
                                <td class="py-4 px-2 text-red-500 hidden" data-lang="en">HGB/Developer (Risk)</td>
                            </tr>
                            <tr class="border-b border-gray-200 hover:bg-yellow-50/20 transition">
                                <td class="py-4 px-2 font-semibold text-[var(--text-dark)]"><span data-lang="id">Profit Share Maksimal</span><span data-lang="en" class="hidden">Maximum Profit Share</span></td>
                                <td class="py-4 px-2 text-[var(--primary-accent)] font-extrabold" data-lang="id">50% Net Profit</td>
                                <td class="py-4 px-2 text-[var(--primary-accent)] font-extrabold hidden" data-lang="en">50% Net Profit</td>
                                <td class="py-4 px-2 text-gray-600" data-lang="id">Maks 30% / Bagi Hasil Kotor</td>
                                <td class="py-4 px-2 text-gray-600 hidden" data-lang="en">Max 30% / Gross Profit Share</td>
                            </tr>
                            <tr class="border-b border-gray-200 hover:bg-yellow-50/20 transition">
                                <td class="py-4 px-2 font-semibold text-[var(--text-dark)]"><span data-lang="id">Kenaikan Harga</span><span data-lang="en" class="hidden">Price Increase</span></td>
                                <td class="py-4 px-2 text-[var(--primary-accent)] font-extrabold" data-lang="id">5% Berkala (Dipaksa)</td>
                                <td class="py-4 px-2 text-[var(--primary-accent)] font-extrabold hidden" data-lang="en">5% Periodic (Forced)</td>
                                <td class="py-4 px-2 text-gray-600" data-lang="id">Kenaikan Pasar Alami</td>
                                <td class="py-4 px-2 text-gray-600 hidden" data-lang="en">Natural Market Increase</td>
                            </tr>
                            <tr class="hover:bg-yellow-50/20 transition">
                                <td class="py-4 px-2 font-semibold text-[var(--text-dark)]"><span data-lang="id">Dana Keamanan (Equity)</span><span data-lang="en" class="hidden">Security Fund (Equity)</span></td>
                                <td class="py-4 px-2 text-[var(--secondary-accent)] font-extrabold" data-lang="id">10% Instant Equity</td>
                                <td class="py-4 px-2 text-[var(--secondary-accent)] font-extrabold hidden" data-lang="en">10% Instant Equity</td>
                                <td class="py-4 px-2 text-gray-600" data-lang="id">Tidak Ada</td>
                                <td class="py-4 px-2 text-gray-600 hidden" data-lang="en">None</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- COLUMN 2: VISUALS -->
            <div>
                <h2 class="section-title text-3xl font-bold mb-6 border-l-4 border-[var(--primary-accent)] pl-4">
                    <span data-lang="id">Galeri Visual Aset & Proyeksi</span>
                    <span data-lang="en" class="hidden">Asset Visuals & Projections Gallery</span>
                </h2>
                <div class="grid grid-cols-2 gap-4">
                    <!-- Image 1: Drone Photo Placeholder -->
                    <div class="card p-0 h-48 sm:h-64 relative shadow-md">
                        <img 
                            src="Images/tampak1.png" 
                            alt="Tampak Depan" 
                            class="w-full h-full object-cover rounded-xl"
                            onerror="this.onerror=null; this.src='Images/tampak1.png'; this.alt='Placeholder: Tampak  Depan';"
                        >
                        <div class="absolute bottom-0 left-0 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs text-[var(--text-dark)] font-bold rounded-tr-lg" data-lang="id">Foto Udara Lokasi Proyek</div>
                        <div class="absolute bottom-0 left-0 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs text-[var(--text-dark)] font-bold rounded-tr-lg hidden" data-lang="en">Aerial Photo of Project Location</div>
                    </div>
                    
                    <!-- Image 2: Siteplan (with Placeholder Fallback) -->
                    <div class="card p-0 h-48 sm:h-64 relative shadow-md">
                        <img 
                            src="Images/Siteplan.png" 
                            alt="Siteplan Layout" 
                            class="w-full h-full object-cover rounded-xl"
                            onerror="this.onerror=null; this.src='Images/Siteplan.png'; this.alt='Placeholder: Siteplan Proyek';"
                        >
                        <div class="absolute bottom-0 left-0 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs text-[var(--text-dark)] font-bold rounded-tr-lg" data-lang="id">Master Siteplan Area</div>
                        <div class="absolute bottom-0 left-0 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs text-[var(--text-dark)] font-bold rounded-tr-lg hidden" data-lang="en">Master Siteplan Area</div>
                    </div>

                    <!-- Image 3: Interior (with Placeholder Fallback) -->
                    <div class="card p-0 h-48 sm:h-64 relative col-span-2 shadow-md">
                        <img 
                            src="Images/Interior1.png" 
                            alt="Interior Design" 
                            class="w-full h-full object-cover rounded-xl"
                            onerror="this.onerror=null; this.src='https://placehold.co/800x400/1A1A2E/FFFFFF?text=INTERIOR+PREMIUM'; this.alt='Placeholder: Interior Premium';"
                        >
                        <div class="absolute bottom-0 left-0 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs text-[var(--text-dark)] font-bold rounded-tr-lg" data-lang="id">Konsep Interior Eksklusif</div>
                        <div class="absolute bottom-0 left-0 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs text-[var(--text-dark)] font-bold rounded-tr-lg hidden" data-lang="en">Exclusive Interior Concept</div>
                    </div>
                </div>
            </div>
        </section>


        <!-- SECTION 5: PROJECT TIMELINE (Interactive Timeline) -->
        <section class="mb-12 pt-8 border-t border-gray-200">
            <h2 class="section-title text-3xl font-bold mb-8 border-l-4 border-[var(--primary-accent)] pl-4">
                <span data-lang="id">Peta Jalan Proyek 24 Bulan (Milestone Interaktif)</span>
                <span data-lang="en" class="hidden">24-Month Project Roadmap (Interactive Milestones)</span>
            </h2>
            
            <div class="space-y-6">
                <!-- Timeline Item: Q1-Q2 (LEGALITAS & JAMINAN) -->
                <button type="button" class="timeline-btn w-full text-left" data-milestone="legalitas">
                    <div class="flex flex-col md:flex-row items-start md:space-x-4 p-4 border rounded-xl bg-yellow-50/70 hover:bg-yellow-100 transition shadow-sm hover:shadow-md">
                        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-[var(--primary-accent)] flex items-center justify-center text-white font-extrabold text-sm shadow-lg mb-4 md:mb-0">Q1-Q2</div>
                        <div class="flex-1 border-l-4 border-[var(--primary-accent)] pl-4">
                            <h4 class="text-xl font-extrabold text-[var(--text-dark)] mb-1" data-lang="id">Bulan 1-6: LEGALITAS, SHM & INFRASTRUKTUR AWAL</h4>
                            <h4 class="text-xl font-extrabold text-[var(--text-dark)] mb-1 hidden" data-lang="en">Month 1-6: LEGALITY, SHM & INITIAL INFRASTRUCTURE</h4>
                            <p class="text-sm text-gray-700" data-lang="id">Detail Termin Penyetoran Dana, Jaminan Notaris, dan Status Kepemilikan (Klik untuk detail).</p>
                            <p class="text-sm text-gray-700 hidden" data-lang="en">Details on Fund Deposit Terms, Notary Guarantee, and Ownership Status (Click for details).</p>
                        </div>
                        <i data-lucide="arrow-right-circle" class="w-6 h-6 flex-shrink-0 text-[var(--primary-accent)] mt-2 md:mt-0"></i>
                    </div>
                </button>

                <!-- Timeline Item: Q3-Q4 (PEMASARAN & APRESIASI) -->
                <button type="button" class="timeline-btn w-full text-left" data-milestone="pemasaran">
                    <div class="flex flex-col md:flex-row items-start md:space-x-4 p-4 border rounded-xl bg-gray-100 hover:bg-gray-200 transition shadow-sm hover:shadow-md">
                        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-gray-500 flex items-center justify-center text-white font-extrabold text-sm shadow-lg mb-4 md:mb-0">Q3-Q4</div>
                        <div class="flex-1 border-l-4 border-gray-400 pl-4">
                            <h4 class="text-xl font-extrabold text-[var(--text-dark)] mb-1" data-lang="id">Bulan 7-12: MARKETING & STRATEGI APRESIASI</h4>
                            <h4 class="text-xl font-extrabold text-[var(--text-dark)] mb-1 hidden" data-lang="en">Month 7-12: MARKETING & APPRECIATION STRATEGY</h4>
                            <p class="text-sm text-gray-700" data-lang="id">Detail penerapan The 5% Rule dan realisasi Instant Equity (Klik untuk detail).</p>
                            <p class="text-sm text-gray-700 hidden" data-lang="en">Details on The 5% Rule implementation and Instant Equity realization (Click for details).</p>
                        </div>
                        <i data-lucide="arrow-right-circle" class="w-6 h-6 flex-shrink-0 text-gray-500 mt-2 md:mt-0"></i>
                    </div>
                </button>

                <!-- Timeline Item: Q5-EXIT (CLOSING & PROFIT) -->
                <button type="button" class="timeline-btn w-full text-left" data-milestone="exit">
                    <div class="flex flex-col md:flex-row items-start md:space-x-4 p-4 border rounded-xl bg-green-50/70 hover:bg-green-100 transition shadow-sm hover:shadow-md">
                        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-green-800 flex items-center justify-center text-white font-extrabold text-sm shadow-lg mb-4 md:mb-0">EXIT</div>
                        <div class="flex-1 border-l-4 border-green-800 pl-4">
                            <h4 class="text-xl font-extrabold text-[var(--text-dark)] mb-1" data-lang="id">Bulan 19-24: CLOSING & PEMBAGIAN HASIL</h4>
                            <h4 class="text-xl font-extrabold text-[var(--text-dark)] mb-1 hidden" data-lang="en">Month 19-24: CLOSING & PROFIT DISTRIBUTION</h4>
                            <p class="text-sm text-gray-700" data-lang="id">Proses akuntabilitas, pelaporan akhir, dan pencairan modal + profit (Klik untuk detail).</p>
                            <p class="text-sm text-gray-700 hidden" data-lang="en">Accountability process, final reporting, and capital + profit disbursement (Click for details).</p>
                        </div>
                        <i data-lucide="arrow-right-circle" class="w-6 h-6 flex-shrink-0 text-green-800 mt-2 md:mt-0"></i>
                    </div>
                </button>
            </div>
        </section>
        
        <!-- FOOTER / DISCLAIMER -->
        <footer class="text-center text-xs text-gray-500 pt-8 border-t border-gray-200 mt-12">
            <p data-lang="id">DISCLAIMER: Dokumen ini bersifat rahasia (**CONFIDENTIAL**) dan berisi proyeksi finansial yang dapat berubah sesuai kondisi pasar. Investasi properti mengandung risiko. Batas waktu penawaran: 31 Januari 2026.</p>
            <p data-lang="en" class="hidden">DISCLAIMER: This document is strictly confidential and contains financial projections subject to market changes. Property investment involves risk. Offer deadline: January 31, 2026.</p>
        </footer>

    </div>

    <!-- MODAL OVERLAY -->
    <div id="milestoneModal" class="modal-overlay" onclick="this.style.display='none'">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 id="modalTitle" class="heading text-2xl font-bold text-[var(--primary-accent)]"></h3>
                <button type="button" onclick="document.getElementById('milestoneModal').style.display='none'" class="text-gray-500 hover:text-[var(--text-dark)] transition">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div id="modalBody" class="space-y-4 text-gray-700">
                <!-- Content will be injected here -->
            </div>
            <p class="text-xs text-red-500 mt-6 pt-3 border-t border-gray-100" data-lang="id">Perhatian: Semua perjanjian kerjasama diikat secara sah melalui Akta Notaris, memastikan kekuatan hukum penuh bagi Mitra Strategis.</p>
            <p class="text-xs text-red-500 mt-6 pt-3 border-t border-gray-100 hidden" data-lang="en">Note: All partnership agreements are legally bound through a Notary Deed, ensuring full legal power for the Strategic Partner.</p>
        </div>
    </div>
    <!-- END MODAL OVERLAY -->

    <script>
        // 1. DATA TRANSLASI & DETAIL MODAL
        const langData = {
            id: {
                pageTitle: "Ruang Data Investor | Graha Harmonia Premium Semi-Villa",
                // ... (Tambahkan terjemahan untuk semua teks di sini)
                // MODAL CONTENT
                modal: {
                    legalitas: {
                        title: "Bulan 1-6: Struktur Legalitas, Jaminan & Termin Dana",
                        content: `
                            <h4 class="font-bold text-[var(--primary-accent)]">Jaminan Aset dan Perjanjian Notaris:</h4>
                            <p class="mb-3">Sejak penandatanganan Akta Perjanjian Kerjasama (PKS), nama investor akan dicantumkan sebagai penerima jaminan (Pemilik Jaminan) atas aset lahan proyek di hadapan Notaris. Ini mengikat modal Anda dengan aset fisik SHM, memberikan keamanan tertinggi.</p>
                            <ul class="list-disc list-inside ml-4 space-y-2">
                                <li>**Jaminan:** Sertifikat Hak Milik (SHM) yang diagunkan.</li>
                                <li>**Dokumen Legal:** Akta PKS yang sah di Notaris.</li>
                            </ul>
                            <h4 class="font-bold text-[var(--secondary-accent)] mt-4">Termin Penyetoran Dana Investasi:</h4>
                            <p class="mb-3">Dana investasi disetorkan dalam dua termin untuk mengoptimalkan cash flow dan pengamanan:</p>
                            <ul class="list-decimal list-inside ml-4 space-y-2">
                                <li>**Termin I (70%):** Disetorkan saat Penandatanganan Akta PKS di Notaris dan pengikatan SHM sebagai jaminan. Dana langsung digunakan untuk akuisisi lahan dan legalitas.</li>
                                <li>**Termin II (30%):** Disetorkan 30 hari kalender setelah Termin I, atau saat izin-izin dasar proyek diterbitkan. Dana digunakan untuk memulai Land Clearing dan pembangunan infrastruktur awal (Gerbang & Pagar).</li>
                            </ul>
                        `
                    },
                    pemasaran: {
                        title: "Bulan 7-12: Detail Marketing & Implementasi Forced Appreciation",
                        content: `
                            <h4 class="font-bold text-[var(--primary-accent)]">Strategi Pemasaran & Harga:</h4>
                            <p class="mb-3">Kami tidak menunggu pasar naik, kami memaksanya naik. Proyeksi harga Rp 9 Miliar dicapai melalui strategi agresif:</p>
                            <ul class="list-disc list-inside ml-4 space-y-2">
                                <li>**Launch Marketing:** Peluncuran intensif dengan *storytelling* eksklusif, menargetkan pasar *end-user* premium dan investor ritel.</li>
                                <li>**The 5% Rule:** Harga unit akan dinaikkan minimal 5% setiap 3 bulan untuk menciptakan *compound* pada margin profit dan meningkatkan valuasi aset Anda.</li>
                                <li>**Konstruksi Unit Contoh:** Pembangunan unit contoh dimulai untuk memicu pembelian dan membuktikan kualitas produk, yang sekaligus memvalidasi harga jual tinggi.</li>
                            </ul>
                        `
                    },
                    exit: {
                        title: "Bulan 19-24: Akuntabilitas, Closing Final & Pembagian Hasil",
                        content: `
                            <h4 class="font-bold text-[var(--primary-accent)]">Pencairan Dana (Exit Strategy):</h4>
                            <p class="mb-3">Setelah unit proyek terjual 90-100%, proses *closing* final dimulai, diikuti dengan pembagian hasil.</p>
                            <ul class="list-disc list-inside ml-4 space-y-2">
                                <li>**Pelaporan Akhir:** Auditor independen akan menyusun Laporan Keuangan Proyek Akhir (Net Profit).</li>
                                <li>**Pencairan:** Investor menerima **100% Modal Awal** ditambah **50% dari Net Profit** proyek secara total.</li>
                                <li>**Pelepasan Jaminan:** Setelah semua dana dikembalikan dan keuntungan dibagikan, SHM yang diagunkan akan dilepaskan (roya) di hadapan Notaris.</li>
                            </ul>
                        `
                    }
                }
            },
            en: {
                pageTitle: "Investor Data Room | Graha Harmonia Premium Semi-Villa",
                // ... (Tambahkan terjemahan untuk semua teks di sini)
                // MODAL CONTENT
                modal: {
                    legalitas: {
                        title: "Month 1-6: Legality Structure, Guarantee & Fund Terms",
                        content: `
                            <h4 class="font-bold text-[var(--primary-accent)]">Asset Guarantee and Notary Agreement:</h4>
                            <p class="mb-3">Upon signing the Cooperation Agreement (PKS), the investor's name will be listed as the guarantee recipient (Guarantee Owner) over the project land assets before a Notary. This binds your capital to the physical SHM asset, providing the highest security.</p>
                            <ul class="list-disc list-inside ml-4 space-y-2">
                                <li>**Guarantee:** Pledged Freehold Title Certificate (SHM).</li>
                                <li>**Legal Documents:** Legally binding PKS Deed at the Notary.</li>
                            </ul>
                            <h4 class="font-bold text-[var(--secondary-accent)] mt-4">Investment Fund Deposit Terms:</h4>
                            <p class="mb-3">Investment funds are deposited in two terms to optimize cash flow and security:</p>
                            <ul class="list-decimal list-inside ml-4 space-y-2">
                                <li>**Term I (70%):** Deposited upon Signing the PKS Deed before a Notary and pledging the SHM as collateral. Funds are immediately used for land acquisition and legality.</li>
                                <li>**Term II (30%):** Deposited 30 calendar days after Term I, or upon issuance of basic project permits. Funds are used to commence Land Clearing and initial infrastructure development (Gate & Fence).</li>
                            </ul>
                        `
                    },
                    pemasaran: {
                        title: "Month 7-12: Marketing Details & Forced Appreciation Implementation",
                        content: `
                            <h4 class="font-bold text-[var(--primary-accent)]">Marketing and Pricing Strategy:</h4>
                            <p class="mb-3">We don't wait for the market to rise, we force it up. The IDR 9 Billion price projection is achieved through aggressive strategies:</p>
                            <ul class="list-disc list-inside ml-4 space-y-2">
                                <li>**Launch Marketing:** Intensive launch with exclusive storytelling, targeting the premium end-user and retail investor market.</li>
                                <li>**The 5% Rule:** Unit prices will be increased by a minimum of 5% every 3 months to create a *compound* on the profit margin and increase your asset valuation.</li>
                                <li>**Model Unit Construction:** Construction of the model unit begins to trigger purchases and prove product quality, which simultaneously validates the high selling price.</li>
                            </ul>
                        `
                    },
                    exit: {
                        title: "Month 19-24: Accountability, Final Closing & Profit Distribution",
                        content: `
                            <h4 class="font-bold text-[var(--primary-accent)]">Fund Disbursement (Exit Strategy):</h4>
                            <p class="mb-3">After 90-100% of project units are sold, the final closing process begins, followed by profit distribution.</p>
                            <ul class="list-disc list-inside ml-4 space-y-2">
                                <li>**Final Reporting:** An independent auditor will compile the Final Project Financial Report (Net Profit).</li>
                                <li>**Disbursement:** Investor receives **100% Initial Capital** plus **50% of the total Project Net Profit**.</li>
                                <li>**Collateral Release:** After all funds are returned and profits are distributed, the pledged SHM will be released (roya) before a Notary.</li>
                            </ul>
                        `
                    }
                }
            }
        };

        // Current language state
        let currentLang = 'id';

        // Fungsi pembantu untuk format mata uang ke format Rupiah penuh (Rp X.XXX.XXX.XXX)
        function formatRupiah(number) {
            // number diasumsikan dalam Juta (Misal: 4800 = 4.8 Miliar). Convert to actual value.
            const actualValue = number * 1000000; 

            const formatter = new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            });
            // Format angka menjadi Rp 4.800.000.000
            return formatter.format(actualValue).replace("IDR", "Rp").trim();
        }

        // Fungsi untuk mengupdate tampilan bahasa
        function updateLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-lang]').forEach(el => {
                const langAttr = el.getAttribute('data-lang');
                if (langAttr === lang) {
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });

            // Update button styling
            const idBtn = document.getElementById('lang-toggle-id');
            const enBtn = document.getElementById('lang-toggle-en');
            if (lang === 'id') {
                idBtn.classList.add('bg-gray-200');
                idBtn.classList.remove('text-gray-500');
                enBtn.classList.remove('bg-gray-200');
                enBtn.classList.add('text-gray-500');
            } else {
                enBtn.classList.add('bg-gray-200');
                enBtn.classList.remove('text-gray-500');
                idBtn.classList.remove('bg-gray-200');
                idBtn.classList.add('text-gray-500');
            }

            // Update page title
            document.getElementById('pageTitle').textContent = langData[lang].pageTitle;
            // Recalculate and update the calculator display
            updateCalculator();
        }

        // Fungsi untuk menampilkan modal
        function showModal(milestoneKey) {
            const data = langData[currentLang].modal[milestoneKey];
            if (!data) return;

            document.getElementById('modalTitle').textContent = data.title;
            document.getElementById('modalBody').innerHTML = data.content;
            document.getElementById('milestoneModal').style.display = 'flex';
            // Re-render lucide icons inside modal if needed
            lucide.createIcons();
        }


        function updateCalculator() {
            const investInput = document.getElementById("investInput");
            const modalDisplay = document.getElementById("modal-display");
            const profitDisplay = document.getElementById("profit-display");
            const totalDisplay = document.getElementById("total-display");

            // Ambil nilai investasi (dalam Juta Rupiah)
            let investment = parseFloat(investInput.value) || 0;
            
            // Set batas minimum dan maksimum (dalam Juta)
            const MIN_INVESTMENT = 1000;
            const MAX_INVESTMENT = 10000; 

            if (investment < MIN_INVESTMENT) { 
                investment = MIN_INVESTMENT; 
                investInput.value = MIN_INVESTMENT; 
            }
            if (investment > MAX_INVESTMENT) {
                investment = MAX_INVESTMENT;
                investInput.value = MAX_INVESTMENT;
            }
            
            // FIXED_PROFIT_RATIO: Berdasarkan proyeksi Capital Gain Net 41.6% 
            const FIXED_PROFIT_RATIO = 0.416; 
            const estimatedProfit = investment * FIXED_PROFIT_RATIO; 
            const totalReturn = investment + estimatedProfit;
            const roiPercent = (estimatedProfit / investment) * 100;

            modalDisplay.textContent = formatRupiah(investment);
            // Tambahkan persentase ROI ke display profit
            const profitTextID = `${formatRupiah(estimatedProfit)} (~${roiPercent.toFixed(1)}%)`;
            const profitTextEN = `${formatRupiah(estimatedProfit)} (~${roiPercent.toFixed(1)}%)`; // Use same format but can be localized if needed
            
            // Update profit display (handling the span inside the main span)
            const profitSpan = document.getElementById('profit-display');
            profitSpan.innerHTML = currentLang === 'id' ? profitTextID : profitTextEN;

            totalDisplay.textContent = formatRupiah(totalReturn);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // 2. Inisialisasi Lucide Icons
            lucide.createIcons();

            const isAuth = sessionStorage.getItem("investor_auth");
            const investorName = sessionStorage.getItem("investor_id") || "Mitra Strategis";
            
            // Elemen Kalkulator dan Lainnya
            const investInput = document.getElementById("investInput");
            const calculateBtn = document.getElementById("calculateBtn");
            const logoutBtn = document.getElementById("logout-btn");
            const langIDBtn = document.getElementById('lang-toggle-id');
            const langENBtn = document.getElementById('lang-toggle-en');
            const timelineBtns = document.querySelectorAll('.timeline-btn');


            // 3. KEAMANAN & REDIRECTION
            if (isAuth !== "true") {
                sessionStorage.clear();
                window.location.href = "investor-login.html"; 
                return;
            }
            
            // 4. LOGOUT HANDLER
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                sessionStorage.clear();
                window.location.href = "investor-login.html";
            });

            // 5. PERSONALISASI
            document.getElementById("investor-name").textContent = investorName;
            
            // 6. WATERMARK GENERATOR
            const watermarkContainer = document.getElementById("digital-watermark");
            const investorUser = sessionStorage.getItem("investor_id") || "GUEST";
            const timestamp = new Date().toLocaleDateString('id-ID', { day: '2-digit', month: '2-digit', year: 'numeric' });
            const watermarkText = `${investorUser} • SANGAT RAHASIA (CONFIDENTIAL) • ${timestamp}`; 
            const cols = 6;
            const rows = 12;

            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const wmItem = document.createElement('span');
                    wmItem.className = 'wm-item';
                    wmItem.textContent = watermarkText;
                    wmItem.style.top = `${(i / rows) * 100}%`;
                    wmItem.style.left = `${(j / cols) * 100 - 10}%`; 
                    watermarkContainer.appendChild(wmItem);
                }
            }


            // 7. ROI CALCULATOR EVENT LISTENERS
            updateCalculator(); // Initial calculation
            calculateBtn.addEventListener('click', updateCalculator);
            investInput.addEventListener('input', updateCalculator);
            investInput.addEventListener('change', updateCalculator); 

            // 8. LANGUAGE TOGGLE EVENT LISTENERS
            langIDBtn.addEventListener('click', () => updateLanguage('id'));
            langENBtn.addEventListener('click', () => updateLanguage('en'));
            
            // Set initial language (Default: ID)
            updateLanguage('id');

            // 9. MILESTONE MODAL EVENT LISTENERS
            timelineBtns.forEach(button => {
                button.addEventListener('click', function() {
                    const milestoneKey = this.getAttribute('data-milestone');
                    showModal(milestoneKey);
                });
            });

        });
    </script>

</body>
</html>
